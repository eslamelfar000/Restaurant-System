import{j as e,S as B,aT as E,l as I,r as l,a2 as v,ap as O,p as u,C as N,c as T,R as H,I as S,h as U,dY as _,cn as V,N as W,aw as z,W as q}from"./index-075f0922.js";import{u as G,h as K,i as Y,j as J}from"./product-shop-details-view-3d65a9e0.js";import"./_baseToString-8c861fa5.js";import"./index-5bbc0dbc.js";import"./empty-content-d3bb60d8.js";import{u as M,e as Q,g as X}from"./use-table-d06f59b9.js";import{T as Z,b as $,a as ee,c as te,d as se,e as oe}from"./table-pagination-custom-6c13802b.js";import{T as re}from"./TablePagination-c508d92b.js";import{S as m}from"./Skeleton-2ad4ac26.js";import{C as ae}from"./confirm-dialog-4719a7e1.js";import{C as ne}from"./custom-breadcrumbs-a1aae47e.js";import{T as le,a as ie,b as de}from"./TableContainer-a0a84f85.js";import"./Grid2-45406380.js";import"./CardHeader-cc63aee8.js";import"./LoadingButton-b69562a9.js";import"./CircularProgress-7bae7666.js";import"./color-picker-5931b39f.js";import"./Fab-1ce644fd.js";import"./Pagination-4b3e47b4.js";import"./FirstPage-4ddc8f72.js";import"./Rating-6ed49ec0.js";import"./sumBy-3b46d7d1.js";import"./_baseIteratee-75ac4188.js";import"./_baseSum-340d39f5.js";import"./DialogTitle-9f20b869.js";import"./dialogTitleClasses-565b08ab.js";import"./DialogContent-ccd5f8ee.js";import"./DialogActions-9942be4f.js";import"./incrementer-button-ef05739b.js";import"./lightbox-49cd6088.js";import"./use-carousel-6e8fdc13.js";import"./markdown-232a6564.js";function ce({...o}){return e.jsx(Z,{...o,children:e.jsx(re,{colSpan:12,children:e.jsxs(B,{spacing:3,direction:"row",alignItems:"center",children:[e.jsx(m,{sx:{borderRadius:1.5,width:48,height:48,flexShrink:0}}),e.jsx(m,{sx:{width:1,height:12}}),e.jsx(m,{sx:{width:180,height:12}}),e.jsx(m,{sx:{width:160,height:12}}),e.jsx(m,{sx:{width:140,height:12}}),e.jsx(m,{sx:{width:120,height:12}})]})})})}const he=[{id:"name",label:"Product"},{id:"createdAt",label:"Create at",width:160},{id:"inventoryType",label:"Stock",width:160},{id:"price",label:"Price",width:140},{id:"publish",label:"Publish",width:110},{id:"",width:88}],me=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],j={name:"",publish:[],stock:[]};function pe(){const o=E(),t=M(),w=I(),[a,c]=l.useState([]),[i,p]=l.useState(j),{products:r,productsLoading:h,productsEmpty:g}=G(),x=v();l.useEffect(()=>{r.length&&c(r)},[r]);const d=ue({inputData:a,comparator:X(t.order,t.orderBy),filters:i}),b=d.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage),f=t.dense?60:80,R=!O(j,i),k=!d.length&&R||g,C=l.useCallback((s,n)=>{t.onResetPage(),p(P=>({...P,[s]:n}))},[t]),F=l.useCallback(s=>{const n=a.filter(P=>P.id!==s);c(n),t.onUpdatePageDeleteRow(b.length)},[b.length,t,a]),y=l.useCallback(()=>{const s=a.filter(n=>!t.selected.includes(n.id));c(s),t.onUpdatePageDeleteRows({totalRows:a.length,totalRowsInPage:b.length,totalRowsFiltered:d.length})},[d.length,b.length,t,a]),D=l.useCallback(s=>{o.push(u.dashboard.product.edit(s))},[o]),L=l.useCallback(s=>{o.push(u.dashboard.product.details(s))},[o]),A=l.useCallback(()=>{p(j)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(N,{maxWidth:w.themeStretch?!1:"lg",children:[e.jsx(ne,{heading:"List",links:[{name:"Dashboard",href:u.dashboard.root},{name:"Product",href:u.dashboard.product.root},{name:"List"}],action:e.jsx(T,{component:H,href:u.dashboard.product.new,variant:"contained",startIcon:e.jsx(S,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(U,{children:[e.jsx(K,{filters:i,onFilters:C,stockOptions:_,publishOptions:me}),R&&e.jsx(Y,{filters:i,onFilters:C,onResetFilters:A,results:d.length,sx:{p:2.5,pt:0}}),e.jsxs(le,{sx:{position:"relative",overflow:"unset"},children:[e.jsx($,{dense:t.dense,numSelected:t.selected.length,rowCount:a.length,onSelectAllRows:s=>t.onSelectAllRows(s,a.map(n=>n.id)),action:e.jsx(V,{title:"Delete",children:e.jsx(W,{color:"primary",onClick:x.onTrue,children:e.jsx(S,{icon:"solar:trash-bin-trash-bold"})})})}),e.jsx(z,{children:e.jsxs(ie,{size:t.dense?"small":"medium",sx:{minWidth:960},children:[e.jsx(ee,{order:t.order,orderBy:t.orderBy,headLabel:he,rowCount:a.length,numSelected:t.selected.length,onSort:t.onSort,onSelectAllRows:s=>t.onSelectAllRows(s,a.map(n=>n.id))}),e.jsxs(de,{children:[h?[...Array(t.rowsPerPage)].map((s,n)=>e.jsx(ce,{sx:{height:f}},n)):e.jsx(e.Fragment,{children:d.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage).map(s=>e.jsx(J,{row:s,selected:t.selected.includes(s.id),onSelectRow:()=>t.onSelectRow(s.id),onDeleteRow:()=>F(s.id),onEditRow:()=>D(s.id),onViewRow:()=>L(s.id)},s.id))}),e.jsx(te,{height:f,emptyRows:Q(t.page,t.rowsPerPage,a.length)}),e.jsx(se,{notFound:k})]})]})})]}),e.jsx(oe,{count:d.length,page:t.page,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,onRowsPerPageChange:t.onChangeRowsPerPage,dense:t.dense,onChangeDense:t.onChangeDense})]})]}),e.jsx(ae,{open:x.value,onClose:x.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",t.selected.length," "]})," items?"]}),action:e.jsx(T,{variant:"contained",color:"error",onClick:()=>{y(),x.onFalse()},children:"Delete"})})]})}function ue({inputData:o,comparator:t,filters:w}){const{name:a,stock:c,publish:i}=w,p=o.map((r,h)=>[r,h]);return p.sort((r,h)=>{const g=t(r[0],h[0]);return g!==0?g:r[1]-h[1]}),o=p.map(r=>r[0]),a&&(o=o.filter(r=>r.name.toLowerCase().indexOf(a.toLowerCase())!==-1)),c.length&&(o=o.filter(r=>c.includes(r.inventoryType))),i.length&&(o=o.filter(r=>i.includes(r.publish))),o}function Ye(){return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(pe,{})]})}export{Ye as default};
