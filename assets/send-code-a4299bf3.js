import{b0 as c,aO as u,aP as d,b1 as l,aL as m,aR as f,aK as r,aS as S}from"./index-2e23bd70.js";function g(){const t=window.localStorage.getItem("user_data"),a=c(t),o=u.create({baseURL:d});return o.defaults.headers.common.Authorization=`Bearer ${a==null?void 0:a.token}`,o}function w(){const t=g(),a=window.localStorage.getItem("code-email");function o(e){const s=e.email?{email:e.email}:{email:a};return t.post("dashboard/restaurant/user/auth/sendcode",s)}const i=l();return m({mutationFn:e=>o(e),onSuccess:e=>{var s,n;i.invalidateQueries(["send-code"]),window.localStorage.setItem("code-email",(n=(s=e==null?void 0:e.data)==null?void 0:s.data)==null?void 0:n.email),f(r("send-email-success"))},onError:()=>{S(r("send-email-error"))}})}export{w as u};
