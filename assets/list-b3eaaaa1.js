import{aT as A,l as B,r as l,a2 as E,ap as v,p,j as t,C as I,c as C,R as O,I as T,h as N,d_ as _,cn as H,N as U,aw as V,W}from"./index-b75d89b7.js";import{u as z,h as q,i as G,j as K}from"./product-shop-details-view-f1a13f9c.js";import"./_baseToString-a4bd2219.js";import"./index-297cdc1c.js";import"./empty-content-f57219ae.js";import{e as J,g as M}from"./utils-d01cbedb.js";import{u as Q}from"./use-table-de5651d8.js";import{c as X,a as Y,d as Z,b as $,e as ee}from"./table-pagination-custom-1b83dca1.js";import{T as te}from"./table-skeleton-c792b5a4.js";import{C as oe}from"./confirm-dialog-828f7f39.js";import{C as se}from"./custom-breadcrumbs-e6b049c1.js";import{T as re,a as ae,b as ne}from"./TableContainer-9e7fa76c.js";import"./Grid2-48a6fac6.js";import"./CardHeader-ee8f33db.js";import"./LoadingButton-b9462ef2.js";import"./CircularProgress-a777ecab.js";import"./color-picker-02a8801a.js";import"./Fab-dc56f109.js";import"./Pagination-b39c9aa0.js";import"./FirstPage-4c8ad69b.js";import"./Rating-5653d21d.js";import"./TablePagination-25decbb4.js";import"./sumBy-e3d80c0f.js";import"./_baseIteratee-3a5640d5.js";import"./_baseSum-340d39f5.js";import"./DialogTitle-e7e9a75c.js";import"./dialogTitleClasses-943c24de.js";import"./DialogContent-1ddd6058.js";import"./DialogActions-f928fe7e.js";import"./Skeleton-7eb700e1.js";import"./incrementer-button-c72817f4.js";import"./lightbox-c39c69f9.js";import"./use-carousel-7c083c3a.js";import"./markdown-c8d83517.js";const le=[{id:"name",label:"Product"},{id:"createdAt",label:"Create at",width:160},{id:"inventoryType",label:"Stock",width:160},{id:"price",label:"Price",width:140},{id:"publish",label:"Publish",width:110},{id:"",width:88}],ie=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],x={name:"",publish:[],stock:[]};function de(){const r=A(),e=Q(),P=B(),[a,c]=l.useState([]),[i,m]=l.useState(x),{products:s,productsLoading:h,productsEmpty:u}=z(),g=E();l.useEffect(()=>{s.length&&c(s)},[s]);const d=ce({inputData:a,comparator:M(e.order,e.orderBy),filters:i}),b=d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),f=e.dense?60:80,R=!v(x,i),S=!d.length&&R||u,j=l.useCallback((o,n)=>{e.onResetPage(),m(w=>({...w,[o]:n}))},[e]),F=l.useCallback(o=>{const n=a.filter(w=>w.id!==o);c(n),e.onUpdatePageDeleteRow(b.length)},[b.length,e,a]),y=l.useCallback(()=>{const o=a.filter(n=>!e.selected.includes(n.id));c(o),e.onUpdatePageDeleteRows({totalRows:a.length,totalRowsInPage:b.length,totalRowsFiltered:d.length})},[d.length,b.length,e,a]),k=l.useCallback(o=>{r.push(p.dashboard.product.edit(o))},[r]),D=l.useCallback(o=>{r.push(p.dashboard.product.details(o))},[r]),L=l.useCallback(()=>{m(x)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(I,{maxWidth:P.themeStretch?!1:"lg",children:[t.jsx(se,{heading:"List",links:[{name:"Dashboard",href:p.dashboard.root},{name:"Product",href:p.dashboard.product.root},{name:"List"}],action:t.jsx(C,{component:O,href:p.dashboard.product.new,variant:"contained",startIcon:t.jsx(T,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),t.jsxs(N,{children:[t.jsx(q,{filters:i,onFilters:j,stockOptions:_,publishOptions:ie}),R&&t.jsx(G,{filters:i,onFilters:j,onResetFilters:L,results:d.length,sx:{p:2.5,pt:0}}),t.jsxs(re,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(X,{dense:e.dense,numSelected:e.selected.length,rowCount:a.length,onSelectAllRows:o=>e.onSelectAllRows(o,a.map(n=>n.id)),action:t.jsx(H,{title:"Delete",children:t.jsx(U,{color:"primary",onClick:g.onTrue,children:t.jsx(T,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(V,{children:t.jsxs(ae,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(Y,{order:e.order,orderBy:e.orderBy,headLabel:le,rowCount:a.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:o=>e.onSelectAllRows(o,a.map(n=>n.id))}),t.jsxs(ne,{children:[h?[...Array(e.rowsPerPage)].map((o,n)=>t.jsx(te,{sx:{height:f}},n)):t.jsx(t.Fragment,{children:d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(o=>t.jsx(K,{row:o,selected:e.selected.includes(o.id),onSelectRow:()=>e.onSelectRow(o.id),onDeleteRow:()=>F(o.id),onEditRow:()=>k(o.id),onViewRow:()=>D(o.id)},o.id))}),t.jsx(Z,{height:f,emptyRows:J(e.page,e.rowsPerPage,a.length)}),t.jsx($,{notFound:S})]})]})})]}),t.jsx(ee,{count:d.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),t.jsx(oe,{open:g.value,onClose:g.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(C,{variant:"contained",color:"error",onClick:()=>{y(),g.onFalse()},children:"Delete"})})]})}function ce({inputData:r,comparator:e,filters:P}){const{name:a,stock:c,publish:i}=P,m=r.map((s,h)=>[s,h]);return m.sort((s,h)=>{const u=e(s[0],h[0]);return u!==0?u:s[1]-h[1]}),r=m.map(s=>s[0]),a&&(r=r.filter(s=>s.name.toLowerCase().indexOf(a.toLowerCase())!==-1)),c.length&&(r=r.filter(s=>c.includes(s.inventoryType))),i.length&&(r=r.filter(s=>i.includes(s.publish))),r}function Ge(){return t.jsxs(t.Fragment,{children:[t.jsx(W,{children:t.jsx("title",{children:" Dashboard: Product List"})}),t.jsx(de,{})]})}export{Ge as default};
