import{aO as $,ct as T,bX as G,aC as O,aD as p,r as k,aE as V,p as y,j as e,aF as H,h as S,F as L,B as F,el as z,T as R,dE as M,K as Q,aA as W,n as K,S as _,c as A,aQ as g,b$ as X,aG as J,aH as Y,P as r,l as Z,ev as U,C as ee,a4 as I,bS as ae,O as se,A as te,af as oe,Q as ie,I as w,bT as ne,V as P}from"./index-3843fe70.js";import{C as le}from"./custom-breadcrumbs-299772e9.js";import{G as C}from"./Grid2-9716141d.js";import{C as re}from"./confirm-dialog-49a5d6b9.js";import{T as ce}from"./table-pagination-custom-4e7e71cc.js";import{T as h}from"./TablePagination-501ac778.js";function q({currentUser:a}){const d=$(),{t:s}=T(),{enqueueSnackbar:i}=G(),m=O().shape({title:p().required(s("meal-form.name")),status:p().required(s("meal-form.status")),avatarUrl:p().required(s("meal-form.image")),en_desc:p().required(s("meal-form.desc")),ar_desc:p().required(s("meal-form.desc"))}),u=k.useMemo(()=>({avatarUrl:(a==null?void 0:a.avatarUrl)||"",title:(a==null?void 0:a.title)||"",status:(a==null?void 0:a.status)||"",price:(a==null?void 0:a.price)||"",en_desc:(a==null?void 0:a.en_desc)||"",ar_desc:(a==null?void 0:a.ar_desc)||""}),[a]),j=V({resolver:Y(m),defaultValues:u}),{reset:x,watch:b,control:f,setValue:c,handleSubmit:l,formState:{isSubmitting:n}}=j,v=b(),B=l(async t=>{try{await new Promise(o=>setTimeout(o,500)),x(),i(s(a?"meal-form.success.update":"meal-form.success.create")),d.push(y.dashboard.user.list),console.info("DATA",t)}catch(o){console.error(o)}}),D=k.useCallback(t=>{const o=t[0],N=Object.assign(o,{preview:URL.createObjectURL(o)});o&&c("avatarUrl",N,{shouldValidate:!0})},[c]),E=[{value:"active",label:s("active")},{value:"banned",label:s("not-active")}];return e.jsx(H,{methods:j,onSubmit:B,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{xs:12,md:4,children:e.jsxs(S,{sx:{pt:10,pb:5,px:3},children:[a&&e.jsx(L,{color:v.status==="active"&&"success"||v.status==="banned"&&"error"||"warning",sx:{position:"absolute",top:24,right:24},children:v.status==="active"?s("active"):s("not-active")}),e.jsx(F,{sx:{mb:5},children:e.jsx(z,{name:"avatarUrl",maxSize:3145728,onDrop:D,helperText:e.jsxs(R,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",M(3145728)]})})}),a&&e.jsx(Q,{labelPlacement:"start",control:e.jsx(W,{name:"status",control:f,render:({field:t})=>e.jsx(K,{...t,checked:t.value!=="active",onChange:o=>t.onChange(o.target.checked?"banned":"active")})}),label:e.jsx(e.Fragment,{children:e.jsx(R,{variant:"subtitle2",sx:{mb:.5},children:s("status")})}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between",alignItems:"center"}}),a&&e.jsx(_,{justifyContent:"center",alignItems:"center",sx:{mt:3},children:e.jsx(A,{variant:"soft",color:"error",children:s("del-note")})})]})}),e.jsx(C,{xs:12,md:8,children:e.jsxs(S,{sx:{p:3},children:[e.jsxs(F,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(g,{name:"title",label:s("title")}),e.jsxs(X,{native:!0,name:"status",label:s("status"),InputLabelProps:{shrink:!0},children:[e.jsx("option",{value:"",hidden:!0,children:s("select-status")}),E.map((t,o)=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),e.jsx(g,{rows:4,multiline:!0,name:"ar_desc",label:s("ar_details")}),e.jsx(g,{rows:4,multiline:!0,name:"en_desc",label:s("en_details")})]}),e.jsx(_,{alignItems:"flex-end",sx:{mt:3},children:e.jsx(J,{type:"submit",variant:"contained",loading:n,children:s(a?"save-changes":"creat-note")})})]})})]})})}q.propTypes={currentUser:r.object};function de({id:a}){const d=Z(),{t:s}=T(),i=U.find(m=>m.id===a);return e.jsxs(ee,{maxWidth:d.themeStretch?!1:"lg",children:[e.jsx(le,{heading:`${s("edit")} - ${i.title}`,links:[{name:s("dashboard"),href:y.dashboard.root},{name:s("notifications"),href:y.dashboard.notifications.root},{name:i==null?void 0:i.title}],sx:{mb:{xs:3,md:5}}}),e.jsx(q,{currentUser:i})]})}de.propTypes={id:r.string};function me({note:a,row:d,selected:s,onEditRow:i,onSelectRow:m,onDeleteRow:u}){const{avatarUrl:j,status:x,title:b,desc:f}=d,c=I();I();const l=ae(),{t:n}=T();return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{hover:!0,selected:s,children:[e.jsx(h,{padding:"checkbox",children:e.jsx(se,{checked:s,onClick:m})}),e.jsxs(h,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(te,{alt:b,src:j,sx:{mr:2,width:50,height:50}}),e.jsx(oe,{primary:b,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"}})]}),e.jsx(h,{sx:{width:"400px",whiteSpace:"normal",wordWrap:"break-word"},children:e.jsxs("p",{children:[f," ",a?"":"$"]})}),e.jsx(h,{children:e.jsx(L,{variant:"soft",color:x==="active"&&"success"||x==="banned"&&"error"||"default",children:n(x==="active"?"active":"not-active")})}),e.jsx(h,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:e.jsx(ie,{color:l.open?"inherit":"default",onClick:l.onOpen,children:e.jsx(w,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(ne,{open:l.open,onClose:l.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(P,{onClick:()=>{c.onTrue(),l.onClose()},sx:{color:"error.main"},children:[e.jsx(w,{icon:"solar:trash-bin-trash-bold"}),n("delete")]}),e.jsxs(P,{onClick:()=>{i(),l.onClose()},children:[e.jsx(w,{icon:"solar:pen-bold"}),n("edit")]})]}),e.jsx(re,{open:c.value,onClose:c.onFalse,title:n("delete"),content:n("del-note-question"),action:e.jsx(A,{variant:"contained",color:"error",onClick:u,children:n("delete")})})]})}me.propTypes={onDeleteRow:r.func,onEditRow:r.func,onSelectRow:r.func,row:r.object,selected:r.bool};export{me as N,q as a,de as b};
