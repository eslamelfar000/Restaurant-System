import{aA as R,aB as t,aK as e,aC as S,aL as F,j as a,S as r,T as x,L as E,p as w,R as A,aM as n,aN as T,aD as k,aE as H,aO as P,aP as $,aQ as z,aR as B,aS as C,W as M}from"./index-868085a6.js";import{L as V}from"./LoadingButton-8ff9ee1e.js";import"./CircularProgress-84d7dba1.js";function W(){const j=R().shape({first_name:t().required(e("auth-form.first-name")),last_name:t().required(e("auth-form.last-name")),email:t().required(e("auth-form.email")).email(e("auth-form.valid-email")),phone:t().required(e("auth-form.phone")),restaurant_name:t().required(e("auth-form.required-res-name")),order:t().required(e("auth-form.request-details"))}),g={first_name:"",last_name:"",email:"",phone:"",restaurant_name:"",order:""},i=S({resolver:H(j),defaultValues:g}),{reset:D,handleSubmit:b,formState:{errors:K}}=i,{mutate:q,error:N,isError:O,isLoading:y}=F({mutationFn:s=>P.post(`${$}dashboard/restaurant/user/restaurant/add`,s,{headers:{"Content-Type":"application/json","Accept-Language":z.language}}),onSuccess:s=>{B(e("request-response"))},onError:s=>{var o,l,m,d,u,c,p,h,f;C(((d=(m=(l=(o=s==null?void 0:s.response)==null?void 0:o.data)==null?void 0:l.errors)==null?void 0:m.email)==null?void 0:d[0])||((p=(c=(u=s==null?void 0:s.response)==null?void 0:u.data)==null?void 0:c.errors)==null?void 0:p[0])||((f=(h=s==null?void 0:s.response)==null?void 0:h.data)==null?void 0:f.message))}}),_=s=>{q(s)},v=a.jsxs(r,{spacing:2,sx:{mb:5,position:"relative"},children:[a.jsx(x,{variant:"h4",children:e("add-request")}),a.jsxs(r,{direction:"row",spacing:.5,children:[a.jsx(x,{variant:"body2",children:e("alread-have-account")}),a.jsx(E,{href:w.auth.amplify.login,component:A,variant:"subtitle2",children:e("sign-in")})]})]}),L=a.jsxs(r,{spacing:2.5,sx:{padding:"0px 0px 50px 0px"},children:[a.jsxs(r,{direction:{xs:"column",sm:"row"},spacing:2,children:[a.jsx(n,{name:"first_name",label:e("first-name")}),a.jsx(n,{name:"last_name",label:e("last-name")})]}),a.jsx(n,{name:"email",label:e("email")}),a.jsx(n,{name:"phone",label:e("phone")}),a.jsx(n,{name:"restaurant_name",label:e("res-name")}),a.jsx(n,{multiline:!0,rows:4,name:"order",label:e("request-details")}),a.jsx(V,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",children:y?a.jsx(T,{color:"#ffffff",size:23}):e("send-request")})]});return a.jsxs(k,{methods:i,onSubmit:b(_),children:[v,L]})}function J(){return a.jsxs(a.Fragment,{children:[a.jsx(M,{children:a.jsx("title",{children:" Amplify: Register"})}),a.jsx(W,{})]})}export{J as default};
