import{cG as A,eC as B,eA as I,l as U,aT as O,a2 as _,r as d,eJ as f,ap as D,p as P,j as t,C as N,c as T,R as H,I as W,h as z,i as q,e as G,k as J,E as M,eD as V,aw as $,W as K}from"./index-8dd84c3c.js";import{N as Q}from"./notification-table-row-92dfbea4.js";import{C as X}from"./confirm-dialog-0fc86c40.js";import{C as Y}from"./custom-breadcrumbs-4f91a7ea.js";import{u as Z,g as ee,e as te}from"./use-table-bd8eaaef.js";import{a as se,c as ae,d as oe,e as le}from"./table-pagination-custom-bcf5e1a2.js";import{e as ne,f as re}from"./profile-followers-29dce76b.js";import{T as ie,a as de,b as ce}from"./TableContainer-e2589cf7.js";import"./Grid2-c538f224.js";import"./LoadingButton-4fef03e5.js";import"./CircularProgress-72f3d43d.js";import"./TablePagination-4ce568dd.js";import"./FirstPage-308e5d1c.js";import"./DialogTitle-79128aff.js";import"./dialogTitleClasses-b98083ca.js";import"./DialogContent-6de0ef8e.js";import"./DialogActions-0f75f5e3.js";import"./empty-content-6586860b.js";import"./Alert-562d97f7.js";import"./Rating-275539ec.js";import"./CardHeader-ecd11e27.js";import"./AvatarGroup-922415c6.js";import"./Fab-983f2fd0.js";import"./lightbox-cba1b548.js";function he(){const{t:a,currentLang:c}=A(),w=[{value:"all",label:a("all")},...c.value==="ar"?B:I],g=[{id:"title",label:a("title"),width:250},{id:"desc",label:a("desc"),width:150},{id:"status",label:a("status"),width:100},{id:"",width:88}],h={title:"",role:[],status:"all"},e=Z(),m=U(),o=O(),r=_(),[l,R]=d.useState(f),[u,j]=d.useState(h),i=ue({inputData:l,comparator:ee(e.order,e.orderBy),filters:u}),p=i.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),v=e.dense?52:72,C=!D(h,u),S=!i.length&&C||!i.length,x=d.useCallback((s,n)=>{e.onResetPage(),j(b=>({...b,[s]:n}))},[e]),F=d.useCallback(s=>{const n=l.filter(b=>b.id!==s);R(n),e.onUpdatePageDeleteRow(p.length)},[p.length,e,l]),y=d.useCallback(()=>{const s=l.filter(n=>!e.selected.includes(n.id));R(s),e.onUpdatePageDeleteRows({totalRows:l.length,totalRowsInPage:p.length,totalRowsFiltered:i.length})},[i.length,p.length,e,l]),k=d.useCallback(s=>{o.push(P.dashboard.notifications.edit(s))},[o]),E=d.useCallback((s,n)=>{x("status",n)},[x]),L=d.useCallback(()=>{j(h)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(N,{maxWidth:m.themeStretch?!1:"lg",children:[t.jsx(Y,{heading:a("notifications"),links:[{name:a("dashboard"),href:P.dashboard.root},{name:a("notifications")}],action:t.jsx(T,{component:H,href:P.dashboard.notifications.new,variant:"contained",startIcon:t.jsx(W,{icon:"mingcute:add-line"}),children:a("new-note")}),sx:{mb:{xs:3,md:5}}}),t.jsxs(z,{children:[t.jsx(q,{value:u.status,onChange:E,sx:{px:2.5,boxShadow:s=>`inset 0 -2px 0 0 ${G(s.palette.grey[500],.08)}`},children:w.map(s=>t.jsx(J,{iconPosition:(c==null?void 0:c.value)==="ar"?"start":"end",value:s.value,label:s.label,icon:t.jsxs(M,{variant:(s.value==="all"||s.value===u.status)&&"filled"||"soft",color:s.value==="active"&&"success"||s.value==="banned"&&"error"||"default",children:[s.value==="all"&&f.length,s.value==="active"&&f.filter(n=>n.status==="active").length,s.value==="banned"&&f.filter(n=>n.status==="banned").length]})},s.value))}),t.jsx(ne,{filters:u,onFilters:x,roleOptions:V}),C&&t.jsx(re,{filters:u,onFilters:x,onResetFilters:L,results:i.length,sx:{p:2.5,pt:0}}),t.jsx(ie,{sx:{position:"relative",overflow:"unset"},children:t.jsx($,{children:t.jsxs(de,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(se,{order:e.order,orderBy:e.orderBy,headLabel:g,rowCount:l.length,numSelected:e.selected.length,onSort:e.onSort}),t.jsxs(ce,{children:[i.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(s=>t.jsx(Q,{row:s,onSelectRow:()=>e.onSelectRow(s.id),onDeleteRow:()=>F(s.id),onEditRow:()=>k(s.id)},s.id)),t.jsx(ae,{height:v,emptyRows:te(e.page,e.rowsPerPage,l.length)}),t.jsx(oe,{notFound:S})]})]})})}),t.jsx(le,{count:i.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage})]})]}),t.jsx(X,{open:r.value,onClose:r.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(T,{variant:"contained",color:"error",onClick:()=>{y(),r.onFalse()},children:"Delete"})})]})}function ue({inputData:a,comparator:c,filters:w}){const{title:g,status:h,role:e}=w,m=a.map((o,r)=>[o,r]);return m.sort((o,r)=>{const l=c(o[0],r[0]);return l!==0?l:o[1]-r[1]}),a=m.map(o=>o[0]),g&&(a=a.filter(o=>o.title.toLowerCase().indexOf(g.toLowerCase())!==-1)),h!=="all"&&(a=a.filter(o=>o.status===h)),e.length&&(a=a.filter(o=>e.includes(o.role))),a}function _e(){return t.jsxs(t.Fragment,{children:[t.jsx(K,{children:t.jsx("title",{children:" Dashboard: Meal List"})}),t.jsx(he,{})]})}export{_e as default};
