import{cG as E,eC as L,eA as U,l as D,aT as N,a2 as O,r as c,eI as f,ap as _,p as P,j as t,C as H,c as T,R as W,I as S,h as z,i as q,e as G,k as M,E as V,eD as $,cn as J,N as K,aw as Q,W as X}from"./index-868085a6.js";import{N as Y}from"./notification-table-row-e3606f6f.js";import{C as Z}from"./confirm-dialog-ceb70d9a.js";import{C as ee}from"./custom-breadcrumbs-c1578647.js";import{u as te,g as se,e as ae}from"./use-table-2de6002e.js";import{b as oe,a as le,c as ne,d as re,e as ie}from"./table-pagination-custom-9a64d8f6.js";import{e as ce,f as de}from"./profile-followers-b8ad6091.js";import{T as he,a as ue,b as me}from"./TableContainer-bb11b98b.js";import"./Grid2-31b1766c.js";import"./LoadingButton-8ff9ee1e.js";import"./CircularProgress-84d7dba1.js";import"./TablePagination-4fffef71.js";import"./FirstPage-ebbdc501.js";import"./DialogTitle-e5d82657.js";import"./dialogTitleClasses-df1e6e63.js";import"./DialogContent-bd257efc.js";import"./DialogActions-33460c8e.js";import"./empty-content-edf55253.js";import"./Alert-25db6e98.js";import"./CardHeader-56eaa42f.js";import"./AvatarGroup-99c8dd0c.js";import"./Fab-f8fd4911.js";import"./lightbox-4d776644.js";function ge(){const{t:a,currentLang:d}=E(),w=[{value:"all",label:a("all")},...d.value==="ar"?L:U],m=[{id:"title",label:a("title"),width:250},{id:"desc",label:a("desc"),width:150},{id:"status",label:a("status"),width:100},{id:"",width:88}],h={title:"",role:[],status:"all"},e=te(),g=D(),o=N(),r=O(),[n,R]=c.useState(f),[u,j]=c.useState(h),i=pe({inputData:n,comparator:se(e.order,e.orderBy),filters:u}),p=i.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),v=e.dense?52:72,C=!_(h,u),F=!i.length&&C||!i.length,x=c.useCallback((s,l)=>{e.onResetPage(),j(b=>({...b,[s]:l}))},[e]),A=c.useCallback(s=>{const l=n.filter(b=>b.id!==s);R(l),e.onUpdatePageDeleteRow(p.length)},[p.length,e,n]),y=c.useCallback(()=>{const s=n.filter(l=>!e.selected.includes(l.id));R(s),e.onUpdatePageDeleteRows({totalRows:n.length,totalRowsInPage:p.length,totalRowsFiltered:i.length})},[i.length,p.length,e,n]),k=c.useCallback(s=>{o.push(P.dashboard.notifications.edit(s))},[o]),I=c.useCallback((s,l)=>{x("status",l)},[x]),B=c.useCallback(()=>{j(h)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(H,{maxWidth:g.themeStretch?!1:"lg",children:[t.jsx(ee,{heading:a("notifications"),links:[{name:a("dashboard"),href:P.dashboard.root},{name:a("notifications")}],action:t.jsx(T,{component:W,href:P.dashboard.notifications.new,variant:"contained",startIcon:t.jsx(S,{icon:"mingcute:add-line"}),children:a("new-note")}),sx:{mb:{xs:3,md:5}}}),t.jsxs(z,{children:[t.jsx(q,{value:u.status,onChange:I,sx:{px:2.5,boxShadow:s=>`inset 0 -2px 0 0 ${G(s.palette.grey[500],.08)}`},children:w.map(s=>t.jsx(M,{iconPosition:(d==null?void 0:d.value)==="ar"?"start":"end",value:s.value,label:s.label,icon:t.jsxs(V,{variant:(s.value==="all"||s.value===u.status)&&"filled"||"soft",color:s.value==="active"&&"success"||s.value==="banned"&&"error"||"default",children:[s.value==="all"&&f.length,s.value==="active"&&f.filter(l=>l.status==="active").length,s.value==="banned"&&f.filter(l=>l.status==="banned").length]})},s.value))}),t.jsx(ce,{filters:u,onFilters:x,roleOptions:$}),C&&t.jsx(de,{filters:u,onFilters:x,onResetFilters:B,results:i.length,sx:{p:2.5,pt:0}}),t.jsxs(he,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(oe,{dense:e.dense,numSelected:e.selected.length,rowCount:n.length,onSelectAllRows:s=>e.onSelectAllRows(s,n.map(l=>l.id)),action:t.jsx(J,{title:"Delete",children:t.jsx(K,{color:"primary",onClick:r.onTrue,children:t.jsx(S,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(Q,{children:t.jsxs(ue,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(le,{order:e.order,orderBy:e.orderBy,headLabel:m,rowCount:n.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:s=>e.onSelectAllRows(s,n.map(l=>l.id))}),t.jsxs(me,{children:[i.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(s=>t.jsx(Y,{row:s,selected:e.selected.includes(s.id),onSelectRow:()=>e.onSelectRow(s.id),onDeleteRow:()=>A(s.id),onEditRow:()=>k(s.id)},s.id)),t.jsx(ne,{height:v,emptyRows:ae(e.page,e.rowsPerPage,n.length)}),t.jsx(re,{notFound:F})]})]})})]}),t.jsx(ie,{count:i.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage})]})]}),t.jsx(Z,{open:r.value,onClose:r.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(T,{variant:"contained",color:"error",onClick:()=>{y(),r.onFalse()},children:"Delete"})})]})}function pe({inputData:a,comparator:d,filters:w}){const{title:m,status:h,role:e}=w,g=a.map((o,r)=>[o,r]);return g.sort((o,r)=>{const n=d(o[0],r[0]);return n!==0?n:o[1]-r[1]}),a=g.map(o=>o[0]),m&&(a=a.filter(o=>o.title.toLowerCase().indexOf(m.toLowerCase())!==-1)),h!=="all"&&(a=a.filter(o=>o.status===h)),e.length&&(a=a.filter(o=>e.includes(o.role))),a}function _e(){return t.jsxs(t.Fragment,{children:[t.jsx(X,{children:t.jsx("title",{children:" Dashboard: Meal List"})}),t.jsx(ge,{})]})}export{_e as default};
