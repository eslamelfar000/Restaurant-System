import{aV as S,aT as P,r as T,aU as A,a2 as E,aA as F,aB as d,aC as I,b1 as R,j as e,aD as k,aE as q,S as n,T as l,L as c,R as B,p as C,aM as m,$ as M,N as H,I as N,W as V}from"./index-7ea3d364.js";import{A as u}from"./Alert-69da9333.js";import{L as $}from"./LoadingButton-98b7bd41.js";import"./CircularProgress-4dfa33e2.js";function J(){const{login:r}=S(),h=P(),[o,x]=T.useState(""),p=A().get("returnTo"),a=E(),g=F().shape({email:d().required("Email is required").email("Email must be a valid email address"),password:d().required("Password is required")}),j={email:"demo@minimals.cc",password:"demo1234"},t=I({resolver:q(g),defaultValues:j}),{reset:w,handleSubmit:b,formState:{isSubmitting:f}}=t,y=b(async i=>{try{await(r==null?void 0:r(i.email,i.password)),h.push(p||R)}catch(s){console.error(s),w(),x(typeof s=="string"?s:s.message)}}),v=e.jsxs(n,{spacing:2,sx:{mb:5},children:[e.jsx(l,{variant:"h4",children:"Sign in to Minimal"}),e.jsxs(n,{direction:"row",spacing:.5,children:[e.jsx(l,{variant:"body2",children:"New user?"}),e.jsx(c,{component:B,href:C.auth.jwt.register,variant:"subtitle2",children:"Create an account"})]})]}),L=e.jsxs(n,{spacing:2.5,children:[!!o&&e.jsx(u,{severity:"error",children:o}),e.jsx(m,{name:"email",label:"Email address"}),e.jsx(m,{name:"password",label:"Password",type:a.value?"text":"password",InputProps:{endAdornment:e.jsx(M,{position:"end",children:e.jsx(H,{onClick:a.onToggle,edge:"end",children:e.jsx(N,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(c,{variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx($,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:f,children:"Login"})]});return e.jsxs(k,{methods:t,onSubmit:y,children:[v,e.jsxs(u,{severity:"info",sx:{mb:3},children:["Use email : ",e.jsx("strong",{children:"demo@minimals.cc"})," / password :",e.jsx("strong",{children:" demo1234"})]}),L]})}function G(){return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx("title",{children:" Jwt : Login"})}),e.jsx(J,{})]})}export{G as default};
