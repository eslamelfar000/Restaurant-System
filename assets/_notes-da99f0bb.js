import{aT as _,cG as T,c8 as $,aA as V,aB as h,r as S,aC as H,p as C,j as e,aD as M,h as k,E as A,B as g,eB as O,T as R,dR as z,G as W,ay as Q,n as Y,S as F,c as B,aM as L,cc as J,aE as K,P as c,l as X,eG as Z,C as U,a2 as I,c3 as ee,A as ae,ad as te,N as se,I as P,c4 as oe,Q as ie,y as w}from"./index-8396fb83.js";import{C as ne}from"./custom-breadcrumbs-cdd51d6b.js";import{G as y}from"./Grid2-64edf282.js";import{L as le}from"./LoadingButton-a61266b0.js";import{C as re}from"./confirm-dialog-f06b6350.js";import{T as ce}from"./table-pagination-custom-74373243.js";import{T as u}from"./TablePagination-c3095f31.js";function G({currentUser:a}){const o=_(),{t}=T(),{enqueueSnackbar:n}=$(),p=V().shape({title:h().required(t("note-form.title")),status:h().required(t("note-form.status")),avatarUrl:h().required(t("note-form.image")),desc:h().required(t("note-form.desc"))}),j=S.useMemo(()=>({avatarUrl:(a==null?void 0:a.avatarUrl)||"",title:(a==null?void 0:a.title)||"",status:(a==null?void 0:a.status)||"",price:(a==null?void 0:a.price)||"",desc:(a==null?void 0:a.desc)||""}),[a]),d=H({resolver:K(p),defaultValues:j}),{reset:x,watch:b,control:f,setValue:m,handleSubmit:r,formState:{isSubmitting:l}}=d,v=b(),E=r(async s=>{try{await new Promise(i=>setTimeout(i,500)),x(),n(t(a?"note-form.success.update":"note-form.success.create")),o.push(C.dashboard.user.list),console.info("DATA",s)}catch(i){console.error(i)}}),N=S.useCallback(s=>{const i=s[0],q=Object.assign(i,{preview:URL.createObjectURL(i)});i&&m("avatarUrl",q,{shouldValidate:!0})},[m]),D=[{value:"active",label:t("active")},{value:"banned",label:t("not-active")}];return e.jsx(M,{methods:d,onSubmit:E,children:e.jsxs(y,{container:!0,spacing:3,children:[e.jsx(y,{xs:12,md:4,children:e.jsxs(k,{sx:{pt:10,pb:5,px:3},children:[a&&e.jsx(A,{color:v.status==="active"&&"success"||v.status==="banned"&&"error"||"warning",sx:{position:"absolute",top:24,right:24},children:v.status==="active"?t("active"):t("not-active")}),e.jsx(g,{sx:{mb:5},children:e.jsx(O,{name:"avatarUrl",maxSize:3145728,onDrop:N,helperText:e.jsxs(R,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",z(3145728)]})})}),a&&e.jsx(W,{labelPlacement:"start",control:e.jsx(Q,{name:"status",control:f,render:({field:s})=>e.jsx(Y,{...s,checked:s.value!=="active",onChange:i=>s.onChange(i.target.checked?"banned":"active")})}),label:e.jsx(e.Fragment,{children:e.jsx(R,{variant:"subtitle2",sx:{mb:.5},children:t("status")})}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between",alignItems:"center"}}),a&&e.jsx(F,{justifyContent:"center",alignItems:"center",sx:{mt:3},children:e.jsx(B,{variant:"soft",color:"error",children:t("del-note")})})]})}),e.jsx(y,{xs:12,md:8,children:e.jsxs(k,{sx:{p:3},children:[e.jsxs(g,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(L,{name:"title",label:t("title")}),e.jsxs(J,{native:!0,name:"status",label:t("status"),InputLabelProps:{shrink:!0},children:[e.jsx("option",{value:"",hidden:!0,children:t("select-status")}),D.map((s,i)=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsx(g,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)"},sx:{mt:2},children:e.jsx(L,{rows:4,multiline:!0,name:"desc",label:t("note-details")})}),e.jsx(F,{alignItems:"flex-end",sx:{mt:3},children:e.jsx(le,{type:"submit",variant:"contained",loading:l,children:t(a?"save-changes":"creat-note")})})]})})]})})}G.propTypes={currentUser:c.object};function de({id:a}){const o=X(),{t}=T(),n=Z.find(p=>p.id===a);return e.jsxs(U,{maxWidth:o.themeStretch?!1:"lg",children:[e.jsx(ne,{heading:`${t("edit")} - ${n.title}`,links:[{name:t("dashboard"),href:C.dashboard.root},{name:t("notifications"),href:C.dashboard.notifications.root},{name:n==null?void 0:n.title}],sx:{mb:{xs:3,md:5}}}),e.jsx(G,{currentUser:n})]})}de.propTypes={id:c.string};function me({row:a,selected:o,onEditRow:t,onSelectRow:n,onDeleteRow:p}){const{avatarUrl:j,status:d,title:x,desc:b,id:f}=a,m=I();I();const r=ee(),{t:l}=T();return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{hover:!0,selected:o,children:[e.jsxs(u,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{alt:x,src:j,sx:{mr:2,width:50,height:50}}),e.jsx(te,{primary:x,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"}})]}),e.jsx(u,{sx:{width:"400px",whiteSpace:"normal",wordWrap:"break-word"},children:e.jsx("p",{children:b})}),e.jsx(u,{children:e.jsx(A,{variant:"soft",color:d==="active"&&"success"||d==="banned"&&"error"||"default",children:l(d==="active"?"active":"not-active")})}),e.jsx(u,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:e.jsx(se,{color:r.open?"inherit":"default",onClick:r.onOpen,children:e.jsx(P,{icon:"eva:more-vertical-fill"})})})]}),e.jsx(oe,{open:r.open,onClose:r.onClose,arrow:"right-top",sx:{width:140},children:e.jsxs(ie,{onClick:()=>{m.onTrue(),r.onClose()},sx:{color:"error.main"},children:[e.jsx(P,{icon:"solar:trash-bin-trash-bold"}),l("delete")]})}),e.jsx(re,{open:m.value,onClose:m.onFalse,item_id:f,title:l("delete"),content:l("del-note-question"),action:e.jsx(B,{variant:"contained",color:"error",onClick:p,children:l("delete")})})]})}me.propTypes={onDeleteRow:c.func,onEditRow:c.func,onSelectRow:c.func,row:c.object,selected:c.bool};const ve=[...Array(20)].map((a,o)=>({id:w.id(o),title:w.fullName(o),avatarUrl:w.image.avatar(o),desc:"Sublime Text is a sophisticated text editor for code, markup and prose. You ll love the slick",status:o%2&&"banned"||"active"}));export{me as N,ve as _,G as a,de as b};
