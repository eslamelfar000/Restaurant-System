import{aO as k,aR as E,aN as R,aC as I,aD as l,aE as P,p as d,r as V,j as e,S as m,aQ as L,aS as q,aG as H,T as t,L as u,R as T,I as A,aF as W,aH as $,aT as D,W as z}from"./index-3843fe70.js";import{a as B}from"./use-countdown-93c97daf.js";function G(){const h=k(),x=E().get("email"),{confirmRegister:r,resendCodeRegister:a}=R(),{countdown:p,counting:i,startCountdown:n}=B(60),y=I().shape({code:l().min(6,"Code must be at least 6 characters").required("Code is required"),email:l().required("Email is required").email("Email must be a valid email address")}),f={code:"",email:x||""},o=P({mode:"onChange",resolver:$(y),defaultValues:f}),{watch:j,handleSubmit:b,formState:{isSubmitting:g}}=o,c=j(),v=b(async s=>{try{await(r==null?void 0:r(s.email,s.code)),h.push(d.auth.amplify.login)}catch(F){console.error(F)}}),S=V.useCallback(async()=>{try{n(),await(a==null?void 0:a(c.email))}catch(s){console.error(s)}},[a,n,c.email]),w=e.jsxs(m,{spacing:3,alignItems:"center",children:[e.jsx(L,{name:"email",label:"Email",placeholder:"example@gmail.com",InputLabelProps:{shrink:!0}}),e.jsx(q,{name:"code"}),e.jsx(H,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:g,children:"Verify"}),e.jsxs(t,{variant:"body2",children:["Donâ€™t have a code? ",e.jsxs(u,{variant:"subtitle2",onClick:S,sx:{cursor:"pointer",...i&&{color:"text.disabled",pointerEvents:"none"}},children:["Resend code ",i&&`(${p}s)`]})]}),e.jsxs(u,{component:T,href:d.auth.amplify.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[e.jsx(A,{icon:"eva:arrow-ios-back-fill",width:16}),"Return to sign in"]})]}),C=e.jsxs(e.Fragment,{children:[e.jsx(D,{sx:{height:96}}),e.jsxs(m,{spacing:1,sx:{my:5},children:[e.jsx(t,{variant:"h3",children:"Please check your email!"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"We have emailed a 6-digit confirmation code to acb@domain, please enter the code in below box to verify your email."})]})]});return e.jsxs(W,{methods:o,onSubmit:v,children:[C,w]})}function J(){return e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsx("title",{children:" Amplify: Verify"})}),e.jsx(G,{})]})}export{J as default};
