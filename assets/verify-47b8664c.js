import{aT as E,aU as F,aV as V,aA as I,aB as l,aC as P,p as d,r as R,j as e,S as m,aM as L,aW as q,T as t,L as u,R as T,I as W,aD as A,aE as H,aX as $,W as B}from"./index-b75d89b7.js";import{a as D}from"./use-countdown-faeeefdf.js";import{L as z}from"./LoadingButton-b9462ef2.js";import"./CircularProgress-a777ecab.js";function M(){const h=E(),x=F().get("email"),{confirmRegister:r,resendCodeRegister:a}=V(),{countdown:p,counting:i,startCountdown:o}=D(60),y=I().shape({code:l().min(6,"Code must be at least 6 characters").required("Code is required"),email:l().required("Email is required").email("Email must be a valid email address")}),f={code:"",email:x||""},n=P({mode:"onChange",resolver:H(y),defaultValues:f}),{watch:j,handleSubmit:b,formState:{isSubmitting:g}}=n,c=j(),v=b(async s=>{try{await(r==null?void 0:r(s.email,s.code)),h.push(d.auth.amplify.login)}catch(k){console.error(k)}}),w=R.useCallback(async()=>{try{o(),await(a==null?void 0:a(c.email))}catch(s){console.error(s)}},[a,o,c.email]),C=e.jsxs(m,{spacing:3,alignItems:"center",children:[e.jsx(L,{name:"email",label:"Email",placeholder:"example@gmail.com",InputLabelProps:{shrink:!0}}),e.jsx(q,{name:"code"}),e.jsx(z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:g,children:"Verify"}),e.jsxs(t,{variant:"body2",children:["Donâ€™t have a code? ",e.jsxs(u,{variant:"subtitle2",onClick:w,sx:{cursor:"pointer",...i&&{color:"text.disabled",pointerEvents:"none"}},children:["Resend code ",i&&`(${p}s)`]})]}),e.jsxs(u,{component:T,href:d.auth.amplify.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[e.jsx(W,{icon:"eva:arrow-ios-back-fill",width:16}),"Return to sign in"]})]}),S=e.jsxs(e.Fragment,{children:[e.jsx($,{sx:{height:96}}),e.jsxs(m,{spacing:1,sx:{my:5},children:[e.jsx(t,{variant:"h3",children:"Please check your email!"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"We have emailed a 6-digit confirmation code to acb@domain, please enter the code in below box to verify your email."})]})]});return e.jsxs(A,{methods:n,onSubmit:v,children:[S,C]})}function N(){return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsx("title",{children:"Verify"})}),e.jsx(M,{})]})}export{N as default};
