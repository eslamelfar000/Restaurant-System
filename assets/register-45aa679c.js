import{aA as L,aB as t,aK as a,aC as R,aL as F,j as e,S as r,T as f,L as E,p as w,R as T,aM as n,aN as k,aD as A,aE as H,aO as P,aP as $,aQ as z,aR as B,aS as C,W as M}from"./index-075f0922.js";import{L as V}from"./LoadingButton-b69562a9.js";import"./CircularProgress-7bae7666.js";function W(){const j=L().shape({first_name:t().required(a("auth-form.first-name")),last_name:t().required(a("auth-form.last-name")),email:t().required(a("auth-form.email")).email(a("auth-form.valid-email")),phone:t().required(a("auth-form.phone")),restaurant_name:t().required(a("auth-form.required-res-name")),order:t().required(a("auth-form.request-details"))}),g={first_name:"",last_name:"",email:"",phone:"",restaurant_name:"",order:""},i=R({resolver:H(j),defaultValues:g}),{reset:D,handleSubmit:b,formState:{errors:K}}=i,{mutate:q,error:N,isError:O,isLoading:S}=F({mutationFn:s=>P.post(`${$}dashboard/restaurant/user/restaurant/add`,s,{headers:{"Content-Type":"application/json","Accept-Language":z.language}}),onSuccess:s=>{B(a("request-response"))},onError:s=>{var o,l,m,d,u,c,h,p,x;C(((d=(m=(l=(o=s==null?void 0:s.response)==null?void 0:o.data)==null?void 0:l.errors)==null?void 0:m.email)==null?void 0:d[0])||((h=(c=(u=s==null?void 0:s.response)==null?void 0:u.data)==null?void 0:c.errors)==null?void 0:h[0])||((x=(p=s==null?void 0:s.response)==null?void 0:p.data)==null?void 0:x.message))}}),_=s=>{q(s)},v=e.jsxs(r,{spacing:2,sx:{mb:5,position:"relative"},children:[e.jsx(f,{variant:"h4",children:a("add-request")}),e.jsxs(r,{direction:"row",spacing:.5,children:[e.jsx(f,{variant:"body2",children:a("alread-have-account")}),e.jsx(E,{href:w.auth.amplify.login,component:T,variant:"subtitle2",children:a("sign-in")})]})]}),y=e.jsxs(r,{spacing:2.5,sx:{padding:"0px 0px 50px 0px"},children:[e.jsxs(r,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(n,{name:"first_name",label:a("first-name")}),e.jsx(n,{name:"last_name",label:a("last-name")})]}),e.jsx(n,{name:"email",label:a("email")}),e.jsx(n,{name:"phone",label:a("phone")}),e.jsx(n,{name:"restaurant_name",label:a("res-name")}),e.jsx(n,{multiline:!0,rows:4,name:"order",label:a("request-details")}),e.jsx(V,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",children:S?e.jsx(k,{color:"#ffffff",size:23}):a("send-request")})]});return e.jsxs(A,{methods:i,onSubmit:b(_),children:[v,y]})}function J(){return e.jsxs(e.Fragment,{children:[e.jsx(M,{children:e.jsx("title",{children:"Send Request"})}),e.jsx(W,{})]})}export{J as default};
