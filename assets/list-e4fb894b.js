import{ct as L,ep as E,en as O,l as U,aO as _,a4 as D,r as c,ev as f,ar as N,p as P,j as t,C as H,c as T,R as W,I as S,h as q,i as z,e as M,k as Q,F as V,eq as $,ca as G,Q as J,ay as K,W as X}from"./index-3843fe70.js";import{N as Y}from"./notification-table-row-c31eaa45.js";import{C as Z}from"./confirm-dialog-49a5d6b9.js";import{C as ee}from"./custom-breadcrumbs-299772e9.js";import{u as te,g as se,e as ae}from"./use-table-1d27b01f.js";import{b as oe,a as le,c as ne,d as re,e as ie}from"./table-pagination-custom-4e7e71cc.js";import{e as ce,f as de}from"./profile-followers-2c746c64.js";import{T as he,a as ue,b as ge}from"./TableContainer-9732a5de.js";import"./Grid2-9716141d.js";import"./TablePagination-501ac778.js";import"./FirstPage-dc050cd6.js";import"./DialogTitle-a5ad6bd7.js";import"./dialogTitleClasses-49cd42e9.js";import"./DialogContent-c6641a82.js";import"./DialogActions-6a0952bb.js";import"./empty-content-39e04c17.js";import"./CardHeader-196e3d50.js";import"./AvatarGroup-bdde72b0.js";import"./Fab-9e0b7121.js";import"./lightbox-1de1d51b.js";function me(){const{t:a,currentLang:d}=L(),w=[{value:"all",label:a("all")},...d.value==="ar"?E:O],g=[{id:"title",label:a("title"),width:250},{id:"desc",label:a("desc"),width:150},{id:"status",label:a("status"),width:100},{id:"",width:88}],h={title:"",role:[],status:"all"},e=te(),m=U(),o=_(),r=D(),[n,R]=c.useState(f),[u,j]=c.useState(h),i=pe({inputData:n,comparator:se(e.order,e.orderBy),filters:u}),p=i.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),v=e.dense?52:72,C=!N(h,u),F=!i.length&&C||!i.length,x=c.useCallback((s,l)=>{e.onResetPage(),j(b=>({...b,[s]:l}))},[e]),y=c.useCallback(s=>{const l=n.filter(b=>b.id!==s);R(l),e.onUpdatePageDeleteRow(p.length)},[p.length,e,n]),A=c.useCallback(()=>{const s=n.filter(l=>!e.selected.includes(l.id));R(s),e.onUpdatePageDeleteRows({totalRows:n.length,totalRowsInPage:p.length,totalRowsFiltered:i.length})},[i.length,p.length,e,n]),k=c.useCallback(s=>{o.push(P.dashboard.notifications.edit(s))},[o]),B=c.useCallback((s,l)=>{x("status",l)},[x]),I=c.useCallback(()=>{j(h)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(H,{maxWidth:m.themeStretch?!1:"lg",children:[t.jsx(ee,{heading:a("notifications"),links:[{name:a("dashboard"),href:P.dashboard.root},{name:a("notifications")}],action:t.jsx(T,{component:W,href:P.dashboard.notifications.new,variant:"contained",startIcon:t.jsx(S,{icon:"mingcute:add-line"}),children:a("new-note")}),sx:{mb:{xs:3,md:5}}}),t.jsxs(q,{children:[t.jsx(z,{value:u.status,onChange:B,sx:{px:2.5,boxShadow:s=>`inset 0 -2px 0 0 ${M(s.palette.grey[500],.08)}`},children:w.map(s=>t.jsx(Q,{iconPosition:(d==null?void 0:d.value)==="ar"?"start":"end",value:s.value,label:s.label,icon:t.jsxs(V,{variant:(s.value==="all"||s.value===u.status)&&"filled"||"soft",color:s.value==="active"&&"success"||s.value==="banned"&&"error"||"default",children:[s.value==="all"&&f.length,s.value==="active"&&f.filter(l=>l.status==="active").length,s.value==="banned"&&f.filter(l=>l.status==="banned").length]})},s.value))}),t.jsx(ce,{filters:u,onFilters:x,roleOptions:$}),C&&t.jsx(de,{filters:u,onFilters:x,onResetFilters:I,results:i.length,sx:{p:2.5,pt:0}}),t.jsxs(he,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(oe,{dense:e.dense,numSelected:e.selected.length,rowCount:n.length,onSelectAllRows:s=>e.onSelectAllRows(s,n.map(l=>l.id)),action:t.jsx(G,{title:"Delete",children:t.jsx(J,{color:"primary",onClick:r.onTrue,children:t.jsx(S,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(K,{children:t.jsxs(ue,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(le,{order:e.order,orderBy:e.orderBy,headLabel:g,rowCount:n.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:s=>e.onSelectAllRows(s,n.map(l=>l.id))}),t.jsxs(ge,{children:[i.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(s=>t.jsx(Y,{row:s,selected:e.selected.includes(s.id),onSelectRow:()=>e.onSelectRow(s.id),onDeleteRow:()=>y(s.id),onEditRow:()=>k(s.id)},s.id)),t.jsx(ne,{height:v,emptyRows:ae(e.page,e.rowsPerPage,n.length)}),t.jsx(re,{notFound:F})]})]})})]}),t.jsx(ie,{count:i.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage})]})]}),t.jsx(Z,{open:r.value,onClose:r.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(T,{variant:"contained",color:"error",onClick:()=>{A(),r.onFalse()},children:"Delete"})})]})}function pe({inputData:a,comparator:d,filters:w}){const{title:g,status:h,role:e}=w,m=a.map((o,r)=>[o,r]);return m.sort((o,r)=>{const n=d(o[0],r[0]);return n!==0?n:o[1]-r[1]}),a=m.map(o=>o[0]),g&&(a=a.filter(o=>o.title.toLowerCase().indexOf(g.toLowerCase())!==-1)),h!=="all"&&(a=a.filter(o=>o.status===h)),e.length&&(a=a.filter(o=>e.includes(o.role))),a}function Ue(){return t.jsxs(t.Fragment,{children:[t.jsx(X,{children:t.jsx("title",{children:" Dashboard: Meal List"})}),t.jsx(me,{})]})}export{Ue as default};
