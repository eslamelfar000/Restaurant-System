import{cH as w,r as E,cI as $,aQ as S,aO as I,aP as P,aS as k,aK as B,cG as D,aL as O,j as t,aG as z,B as N,c as L,aN as M,P as l,aR as R}from"./index-186823c6.js";import{D as U}from"./DialogTitle-6701e5d8.js";import{D as F}from"./DialogContent-1dbacd97.js";import{D as G}from"./DialogActions-ac373084.js";const Y=[{value:"active",label:"فعال"},{value:"banned",label:"غير فعال"}],V=[{value:"active",label:"Active"},{value:"banned",label:"Not Active"}];function H(){var d,p,s,g,_,v,c,y,b;const u=window.localStorage.getItem("user_data"),o=w(u),[m,f]=E.useState(1),{data:e,isLoading:r,refetch:h}=$(["meals",m,S.language],{retry:1,queryFn:()=>I.get(`${P}dashboard/restaurant/food/get?per_page=10&page=${m}`,{headers:{"Content-Type":"application/json","Accept-Language":S.language,Authorization:`Bearer ${o==null?void 0:o.token}`}}),onSuccess:a=>{},onError:()=>{k(B("error"))}}),x=(a,j)=>{f(j)},n=((d=e==null?void 0:e.data)==null?void 0:d.data.map((a,j)=>{var A,T,C;return{id:a.id,name:a.name,photo:((A=a.images)==null?void 0:A.image)||"https://api-dev-minimal-v510.vercel.app/assets/images/avatar/avatar_1.jpg",desc:a.details||"Sublime Text is a sophisticated text editor for code, markup, and prose. You ll love the slick",price:a.price,review:((T=a==null?void 0:a.rating[0])==null?void 0:T.average_rating)||"",review_num:((C=a==null?void 0:a.rating[0])==null?void 0:C.rating_count)||"0",status:a.status,loading:r}}))||[],i=e?[{current_page:((s=(p=e.data)==null?void 0:p.pagination)==null?void 0:s.current_page)||1,per_page:((_=(g=e.data)==null?void 0:g.pagination)==null?void 0:_.per_page)||5,last_page:((c=(v=e.data)==null?void 0:v.pagination)==null?void 0:c.last_page)||1,total:((b=(y=e.data)==null?void 0:y.pagination)==null?void 0:b.total)||5}]:[];return{_mealList:n,mealListPaginationb:i,handlePageChange:x,refetch:h}}function Q({title:u,content:o,action:m,open:f,meal:e,onClose:r,item_id:h,...x}){const{t:n}=D(),i=JSON.parse(localStorage.getItem("settings")),{refetch:d}=H(),p=window.localStorage.getItem("user_data"),s=w(p),{mutate:g,error:_,isError:v,isLoading:c}=O({mutationFn:()=>I.post(`${P}${e?"dashboard/restaurant/food/delete":""}`,{food_id:h},{headers:{"Content-Type":"multipart/form-data","Accept-Language":S.language,Authorization:`Bearer ${s==null?void 0:s.token}`}}),onSuccess:()=>{R(n("meal-form.success.delete")),r(),d()},onError:()=>{k(n("error"))}});return t.jsxs(z,{fullWidth:!0,maxWidth:"xs",open:f,onClose:r,...x,children:[t.jsx(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:t.jsx(U,{sx:{pb:2,fontSize:"30px !important"},children:u})}),o&&t.jsxs(F,{sx:{typography:"body2",overflow:"hidden",fontSize:"17px"},children:[" ",o," "]}),t.jsxs(G,{children:[t.jsx(L,{type:"submit",variant:"contained",color:"error",disabled:!!c,onClick:g,children:c?t.jsx(M,{color:(i==null?void 0:i.themeMode)==="dark"?"#161C24":"#ffffff",size:23}):n("delete")}),t.jsx(L,{variant:"outlined",color:"inherit",onClick:r,children:n("cancel")})]})]})}Q.propTypes={action:l.node,content:l.node,onClose:l.func,open:l.bool,title:l.string};export{Y as A,Q as C,V as U,H as g};
