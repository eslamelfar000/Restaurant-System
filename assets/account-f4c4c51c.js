import{bX as F,aC as G,aD as f,d5 as oe,b_ as te,aE as q,r as b,j as e,aF as N,h as v,el as ie,T as D,dE as le,c7 as ce,c as C,B as k,aQ as w,c4 as de,d2 as z,I as l,S as h,aG as L,dj as xe,aH as $,bS as H,w as V,F as W,Q as T,bT as M,V as P,P as j,aJ as pe,U as ue,a1 as I,cc as me,a4 as A,ak as he,al as je,am as be,D as Q,af as Z,ag as ye,ax as ge,L as fe,aA as we,K as Ce,n as ve,aU as Se,l as Pe,C as Ae,p as _,i as ke,k as Te,er as Ie,es as Fe,et as qe,eu as Ne,ef as De,W as Le}from"./index-3843fe70.js";import{C as Ee}from"./custom-breadcrumbs-299772e9.js";import{G as x}from"./Grid2-9716141d.js";import{b as Be,A as Re,a as Ue}from"./address-list-dialog-6553657e.js";import{C as E}from"./CardHeader-196e3d50.js";import{P as Oe}from"./payment-new-card-dialog-35928d2a.js";import"./DialogTitle-a5ad6bd7.js";import"./dialogTitleClasses-49cd42e9.js";import"./DialogContent-c6641a82.js";import"./DialogActions-6a0952bb.js";function ze(){const{enqueueSnackbar:n}=F(),{user:s}=xe(),r=G().shape({displayName:f().required("Name is required"),email:f().required("Email is required").email("Email must be a valid email address"),photoURL:oe().nullable().required("Avatar is required"),phoneNumber:f().required("Phone number is required"),country:f().required("Country is required"),address:f().required("Address is required"),state:f().required("State is required"),city:f().required("City is required"),zipCode:f().required("Zip code is required"),about:f().required("About is required"),isPublic:te()}),o={displayName:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",photoURL:(s==null?void 0:s.photoURL)||null,phoneNumber:(s==null?void 0:s.phoneNumber)||"",country:(s==null?void 0:s.country)||"",address:(s==null?void 0:s.address)||"",state:(s==null?void 0:s.state)||"",city:(s==null?void 0:s.city)||"",zipCode:(s==null?void 0:s.zipCode)||"",about:(s==null?void 0:s.about)||"",isPublic:(s==null?void 0:s.isPublic)||!1},c=q({resolver:$(r),defaultValues:o}),{setValue:m,handleSubmit:g,formState:{isSubmitting:i}}=c,u=g(async t=>{try{await new Promise(p=>setTimeout(p,500)),n("Update success!"),console.info("DATA",t)}catch(p){console.error(p)}}),a=b.useCallback(t=>{const p=t[0],y=Object.assign(p,{preview:URL.createObjectURL(p)});p&&m("photoURL",y,{shouldValidate:!0})},[m]);return e.jsx(N,{methods:c,onSubmit:u,children:e.jsxs(x,{container:!0,spacing:3,children:[e.jsx(x,{xs:12,md:4,children:e.jsxs(v,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:[e.jsx(ie,{name:"photoURL",maxSize:3145728,onDrop:a,helperText:e.jsxs(D,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",le(3145728)]})}),e.jsx(ce,{name:"isPublic",labelPlacement:"start",label:"Public Profile",sx:{mt:5}}),e.jsx(C,{variant:"soft",color:"error",sx:{mt:3},children:"Delete User"})]})}),e.jsx(x,{xs:12,md:8,children:e.jsxs(v,{sx:{p:3},children:[e.jsxs(k,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(w,{name:"displayName",label:"Name"}),e.jsx(w,{name:"email",label:"Email Address"}),e.jsx(w,{name:"phoneNumber",label:"Phone Number"}),e.jsx(w,{name:"address",label:"Address"}),e.jsx(de,{name:"country",label:"Country",options:z.map(t=>t.label),getOptionLabel:t=>t,renderOption:(t,p)=>{const{code:y,label:S,phone:B}=z.filter(R=>R.label===p)[0];return S?b.createElement("li",{...t,key:S},e.jsx(l,{icon:`circle-flags:${y.toLowerCase()}`,width:28,sx:{mr:1}},S),S," (",y,") +",B):null}}),e.jsx(w,{name:"state",label:"State/Region"}),e.jsx(w,{name:"city",label:"City"}),e.jsx(w,{name:"zipCode",label:"Zip/Code"})]}),e.jsxs(h,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[e.jsx(w,{name:"about",multiline:!0,rows:4,label:"About"}),e.jsx(L,{type:"submit",variant:"contained",loading:i,children:"Save Changes"})]})]})})]})})}function U({card:n,sx:s,...r}){const o=H();return e.jsxs(e.Fragment,{children:[e.jsxs(h,{spacing:1,component:V,variant:"outlined",sx:{p:2.5,width:1,position:"relative",...s},...r,children:[e.jsxs(h,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(l,{icon:n.cardType==="visa"&&"logos:visa"||"logos:mastercard",width:36}),n.primary&&e.jsx(W,{color:"info",children:"Default"})]}),e.jsx(D,{variant:"subtitle2",children:n.cardNumber}),e.jsx(T,{onClick:o.onOpen,sx:{top:8,right:8,position:"absolute"},children:e.jsx(l,{icon:"eva:more-vertical-fill"})})]}),e.jsxs(M,{open:o.open,onClose:o.onClose,children:[e.jsxs(P,{onClick:o.onClose,children:[e.jsx(l,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(P,{onClick:o.onClose,children:[e.jsx(l,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(P,{onClick:o.onClose,sx:{color:"error.main"},children:[e.jsx(l,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}U.propTypes={card:j.object,sx:j.object};function J({open:n,list:s,onClose:r,selected:o,onSelect:c}){const[m,g]=b.useState(""),u=!_e({inputData:s,query:m}).length&&!!m,a=b.useCallback(y=>{g(y.target.value)},[]),t=b.useCallback(y=>{c(y),g(""),r()},[r,c]),p=e.jsx(h,{spacing:2.5,sx:{p:3},children:s.map(y=>e.jsx(U,{card:y,onClick:()=>t(y),sx:{cursor:"pointer",...o(y.id)&&{boxShadow:S=>`0 0 0 2px ${S.palette.text.primary}`}}},y.id))});return e.jsxs(pe,{fullWidth:!0,maxWidth:"xs",open:n,onClose:r,children:[e.jsxs(h,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[e.jsx(D,{variant:"h6",children:" Cards "}),e.jsx(C,{size:"small",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})]}),e.jsx(h,{sx:{px:3},children:e.jsx(ue,{value:m,onChange:a,placeholder:"Search...",InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(l,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),u?e.jsx(me,{query:m,sx:{px:3,pt:5,pb:10}}):p]})}J.propTypes={list:j.array,onClose:j.func,onSelect:j.func,open:j.bool,selected:j.func};function _e({inputData:n,query:s}){return s?n.filter(r=>r.cardNumber.toLowerCase().indexOf(s.toLowerCase())!==-1):n}function K({cardList:n,addressBook:s,plans:r}){const o=A(),c=A(),m=s.filter(d=>d.primary)[0],g=n.filter(d=>d.primary)[0],[i,u]=b.useState(""),[a,t]=b.useState(m),[p,y]=b.useState(g),S=b.useCallback(d=>{r.filter(re=>re.primary)[0].subscription!==d&&u(d)},[r]),B=b.useCallback(d=>{t(d)},[]),R=b.useCallback(d=>{y(d)},[]),ae=r.map(d=>e.jsx(x,{xs:12,md:4,children:e.jsxs(h,{component:V,variant:"outlined",onClick:()=>S(d.subscription),sx:{p:2.5,position:"relative",cursor:"pointer",...d.primary&&{opacity:.48,cursor:"default"},...d.subscription===i&&{boxShadow:O=>`0 0 0 2px ${O.palette.text.primary}`}},children:[d.primary&&e.jsx(W,{color:"info",startIcon:e.jsx(l,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),e.jsxs(k,{sx:{width:48,height:48},children:[d.subscription==="basic"&&e.jsx(he,{}),d.subscription==="starter"&&e.jsx(je,{}),d.subscription==="premium"&&e.jsx(be,{})]}),e.jsx(k,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:d.subscription}),e.jsxs(h,{direction:"row",alignItems:"center",sx:{typography:"h4"},children:[d.price||"Free",!!d.price&&e.jsx(k,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},d.subscription));return e.jsxs(e.Fragment,{children:[e.jsxs(v,{children:[e.jsx(E,{title:"Plan"}),e.jsx(x,{container:!0,spacing:2,sx:{p:3},children:ae}),e.jsxs(h,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Plan"}),e.jsx(x,{xs:12,md:8,sx:{typography:"subtitle2",textTransform:"capitalize"},children:i||"-"})]}),e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing name"}),e.jsx(x,{xs:12,md:8,children:e.jsx(C,{onClick:o.onTrue,endIcon:e.jsx(l,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:a==null?void 0:a.name})})]}),e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing address"}),e.jsx(x,{xs:12,md:8,sx:{color:"text.secondary"},children:a==null?void 0:a.fullAddress})]}),e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing phone number"}),e.jsx(x,{xs:12,md:8,sx:{color:"text.secondary"},children:a==null?void 0:a.phoneNumber})]}),e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Payment method"}),e.jsx(x,{xs:12,md:8,children:e.jsx(C,{onClick:c.onTrue,endIcon:e.jsx(l,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:p==null?void 0:p.cardNumber})})]})]}),e.jsx(Q,{sx:{borderStyle:"dashed"}}),e.jsxs(h,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{p:3},children:[e.jsx(C,{variant:"outlined",children:"Cancel Plan"}),e.jsx(C,{variant:"contained",children:"Upgrade Plan"})]})]}),e.jsx(J,{list:n,open:c.value,onClose:c.onFalse,selected:d=>(p==null?void 0:p.id)===d,onSelect:R}),e.jsx(Be,{list:s,open:o.value,onClose:o.onFalse,selected:d=>(a==null?void 0:a.id)===d,onSelect:B,action:e.jsx(C,{size:"small",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}K.propTypes={addressBook:j.array,cardList:j.array,plans:j.array};function X({cards:n}){const s=A();return e.jsxs(e.Fragment,{children:[e.jsxs(v,{sx:{my:3},children:[e.jsx(E,{title:"Payment Method",action:e.jsx(C,{size:"small",color:"primary",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),onClick:s.onTrue,children:"New Card"})}),e.jsx(k,{rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{p:3},children:n.map(r=>e.jsx(U,{card:r},r.id))})]}),e.jsx(Oe,{open:s.value,onClose:s.onFalse})]})}X.propTypes={cards:j.array};function Y({invoices:n}){const s=A();return e.jsxs(v,{children:[e.jsx(E,{title:"Invoice History"}),e.jsxs(h,{spacing:1.5,sx:{px:3,pt:3},children:[(s.value?n:n.slice(0,8)).map(r=>e.jsxs(h,{direction:"row",alignItems:"center",children:[e.jsx(Z,{primary:r.invoiceNumber,secondary:ye(r.createdAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),e.jsx(D,{variant:"body2",sx:{textAlign:"right",mr:5},children:ge(r.price)}),e.jsx(fe,{color:"inherit",underline:"always",variant:"body2",href:"#",children:"PDF"})]},r.id)),e.jsx(Q,{sx:{borderStyle:"dashed"}})]}),e.jsx(h,{alignItems:"flex-start",sx:{p:2},children:e.jsx(C,{size:"small",color:"inherit",startIcon:e.jsx(l,{icon:s.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),onClick:s.onToggle,children:s.value?"Show Less":"Show More"})})]})}Y.propTypes={invoices:j.array};function ee({addressBook:n}){const[s,r]=b.useState(""),o=H(),c=A(),m=b.useCallback(u=>{console.info("ADDRESS",u)},[]),g=b.useCallback((u,a)=>{o.onOpen(u),r(a)},[o]),i=b.useCallback(()=>{o.onClose(),r("")},[o]);return e.jsxs(e.Fragment,{children:[e.jsxs(v,{children:[e.jsx(E,{title:"Address Book",action:e.jsx(C,{size:"small",color:"primary",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),onClick:c.onTrue,children:"Address"})}),e.jsx(h,{spacing:2.5,sx:{p:3},children:n.map(u=>e.jsx(Re,{variant:"outlined",address:u,action:e.jsx(T,{onClick:a=>{g(a,`${u.id}`)},sx:{position:"absolute",top:8,right:8},children:e.jsx(l,{icon:"eva:more-vertical-fill"})}),sx:{p:2.5,borderRadius:1}},u.id))})]}),e.jsxs(M,{open:o.open,onClose:i,children:[e.jsxs(P,{onClick:()=>{i(),console.info("SET AS PRIMARY",s)},children:[e.jsx(l,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(P,{onClick:()=>{i(),console.info("EDIT",s)},children:[e.jsx(l,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(P,{onClick:()=>{i(),console.info("DELETE",s)},sx:{color:"error.main"},children:[e.jsx(l,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(Ue,{open:c.value,onClose:c.onFalse,onCreate:m})]})}ee.propTypes={addressBook:j.array};function se({cards:n,plans:s,invoices:r,addressBook:o}){return e.jsxs(x,{container:!0,spacing:5,disableEqualOverflow:!0,children:[e.jsxs(x,{xs:12,md:8,children:[e.jsx(K,{plans:s,cardList:n,addressBook:o}),e.jsx(X,{cards:n}),e.jsx(ee,{addressBook:o})]}),e.jsx(x,{xs:12,md:4,children:e.jsx(Y,{invoices:r})})]})}se.propTypes={addressBook:j.array,cards:j.array,invoices:j.array,plans:j.array};function ne({socialLinks:n}){const{enqueueSnackbar:s}=F(),r={facebook:n.facebook,instagram:n.instagram,linkedin:n.linkedin,twitter:n.twitter},o=q({defaultValues:r}),{handleSubmit:c,formState:{isSubmitting:m}}=o,g=c(async i=>{try{await new Promise(u=>setTimeout(u,500)),s("Update success!"),console.info("DATA",i)}catch(u){console.error(u)}});return e.jsx(N,{methods:o,onSubmit:g,children:e.jsxs(h,{component:v,spacing:3,sx:{p:3},children:[Object.keys(n).map(i=>e.jsx(w,{name:i,InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(l,{width:24,icon:i==="facebook"&&"eva:facebook-fill"||i==="instagram"&&"ant-design:instagram-filled"||i==="linkedin"&&"eva:linkedin-fill"||i==="twitter"&&"eva:twitter-fill"||"",color:i==="facebook"&&"#1877F2"||i==="instagram"&&"#DF3E30"||i==="linkedin"&&"#006097"||i==="twitter"&&"#1C9CEA"||""})})}},i)),e.jsx(L,{type:"submit",variant:"contained",loading:m,sx:{ml:"auto"},children:"Save Changes"})]})})}ne.propTypes={socialLinks:j.object};const Ge=[{subheader:"Activity",caption:"Donec mi odio, faucibus at, scelerisque quis",items:[{id:"activity_comments",label:"Email me when someone comments onmy article"},{id:"activity_answers",label:"Email me when someone answers on my form"},{id:"activityFollows",label:"Email me hen someone follows me"}]},{subheader:"Application",caption:"Donec mi odio, faucibus at, scelerisque quis",items:[{id:"application_news",label:"News and announcements"},{id:"application_product",label:"Weekly product updates"},{id:"application_blog",label:"Weekly blog digest"}]}];function $e(){const{enqueueSnackbar:n}=F(),s=q({defaultValues:{selected:["activity_comments","application_product"]}}),{watch:r,control:o,handleSubmit:c,formState:{isSubmitting:m}}=s,g=r(),i=c(async a=>{try{await new Promise(t=>setTimeout(t,500)),n("Update success!"),console.info("DATA",a)}catch(t){console.error(t)}}),u=(a,t)=>a.includes(t)?a.filter(p=>p!==t):[...a,t];return e.jsx(N,{methods:s,onSubmit:i,children:e.jsxs(h,{component:v,spacing:3,sx:{p:3},children:[Ge.map(a=>e.jsxs(x,{container:!0,spacing:3,children:[e.jsx(x,{xs:12,md:4,children:e.jsx(Z,{primary:a.subheader,secondary:a.caption,primaryTypographyProps:{typography:"h6",mb:.5},secondaryTypographyProps:{component:"span"}})}),e.jsx(x,{xs:12,md:8,children:e.jsx(h,{spacing:1,sx:{p:3,borderRadius:2,bgcolor:"background.neutral"},children:e.jsx(we,{name:"selected",control:o,render:({field:t})=>e.jsx(e.Fragment,{children:a.items.map(p=>e.jsx(Ce,{label:p.label,labelPlacement:"start",control:e.jsx(ve,{checked:t.value.includes(p.id),onChange:()=>t.onChange(u(g.selected,p.id))}),sx:{m:0,width:1,justifyContent:"space-between"}},p.id))})})})})]},a.subheader)),e.jsx(L,{type:"submit",variant:"contained",loading:m,sx:{ml:"auto"},children:"Save Changes"})]})})}function He(){const{enqueueSnackbar:n}=F(),s=A(),r=G().shape({oldPassword:f().required("Old Password is required"),newPassword:f().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(a,{parent:t})=>a!==t.oldPassword),confirmNewPassword:f().oneOf([Se("newPassword")],"Passwords must match")}),o={oldPassword:"",newPassword:"",confirmNewPassword:""},c=q({resolver:$(r),defaultValues:o}),{reset:m,handleSubmit:g,formState:{isSubmitting:i}}=c,u=g(async a=>{try{await new Promise(t=>setTimeout(t,500)),m(),n("Update success!"),console.info("DATA",a)}catch(t){console.error(t)}});return e.jsx(N,{methods:c,onSubmit:u,children:e.jsxs(h,{component:v,spacing:3,sx:{p:3},children:[e.jsx(w,{name:"oldPassword",type:s.value?"text":"password",label:"Old Password",InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(l,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(w,{name:"newPassword",label:"New Password",type:s.value?"text":"password",InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(l,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:e.jsxs(h,{component:"span",direction:"row",alignItems:"center",children:[e.jsx(l,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),e.jsx(w,{name:"confirmNewPassword",type:s.value?"text":"password",label:"Confirm New Password",InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(l,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(L,{type:"submit",variant:"contained",loading:i,sx:{ml:"auto"},children:"Save Changes"})]})})}const Ve=[{value:"general",label:"General",icon:e.jsx(l,{icon:"solar:user-id-bold",width:24})},{value:"social",label:"Social links",icon:e.jsx(l,{icon:"solar:share-bold",width:24})},{value:"security",label:"Security",icon:e.jsx(l,{icon:"ic:round-vpn-key",width:24})}];function We(){const n=Pe(),[s,r]=b.useState("general"),o=b.useCallback((c,m)=>{r(m)},[]);return e.jsxs(Ae,{maxWidth:n.themeStretch?!1:"lg",children:[e.jsx(Ee,{heading:"Account",links:[{name:"Dashboard",href:_.dashboard.root},{name:"User",href:_.dashboard.user.root},{name:"Account"}],sx:{mb:{xs:3,md:5}}}),e.jsx(ke,{value:s,onChange:o,sx:{mb:{xs:3,md:5}},children:Ve.map(c=>e.jsx(Te,{label:c.label,icon:c.icon,value:c.value},c.value))}),s==="general"&&e.jsx(ze,{}),s==="billing"&&e.jsx(se,{plans:Ie,cards:Fe,invoices:qe,addressBook:Ne}),s==="notifications"&&e.jsx($e,{}),s==="social"&&e.jsx(ne,{socialLinks:De.socialLinks}),s==="security"&&e.jsx(He,{})]})}function as(){return e.jsxs(e.Fragment,{children:[e.jsx(Le,{children:e.jsx("title",{children:" Dashboard: Account Settings"})}),e.jsx(We,{})]})}export{as as default};
