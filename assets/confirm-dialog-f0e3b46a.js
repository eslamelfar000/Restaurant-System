import{b0 as $,r as T,cI as z,aQ as v,aO as D,aP as E,aS as P,aK as A,cH as B,cJ as I,aY as M,aL as N,j as t,aG as F,B as H,c as k,aN as J,P as l,aR as O}from"./index-2e23bd70.js";import{D as Q}from"./DialogTitle-a7955715.js";import{D as R}from"./DialogContent-5cdd3a81.js";import{D as W}from"./DialogActions-a4520a0f.js";function Y(){var d,p,r,g,_,y,c,j,S;const u=window.localStorage.getItem("user_data"),o=$(u),[m,f]=T.useState(1),{data:e,isLoading:n,refetch:h}=z(["meals",m,v.language],{retry:1,queryFn:()=>D.get(`${E}dashboard/restaurant/food/get?per_page=10&page=${m}`,{headers:{"Content-Type":"application/json","Accept-Language":v.language,Authorization:`Bearer ${o==null?void 0:o.token}`}}),onSuccess:a=>{},onError:()=>{P(A("error"))}}),x=(a,b)=>{f(b)},s=((d=e==null?void 0:e.data)==null?void 0:d.data.map((a,b)=>{var L,C,w;return{id:a.id,name:a.name,photo:((L=a.images)==null?void 0:L.image)||"https://api-dev-minimal-v510.vercel.app/assets/images/avatar/avatar_1.jpg",desc:a.details||"Sublime Text is a sophisticated text editor for code, markup, and prose. You ll love the slick",price:a.price,review:((C=a==null?void 0:a.rating[0])==null?void 0:C.average_rating)||"",review_num:((w=a==null?void 0:a.rating[0])==null?void 0:w.rating_count)||"0",status:a.status,loading:n}}))||[],i=e?[{current_page:((r=(p=e.data)==null?void 0:p.pagination)==null?void 0:r.current_page)||1,per_page:((_=(g=e.data)==null?void 0:g.pagination)==null?void 0:_.per_page)||5,last_page:((c=(y=e.data)==null?void 0:y.pagination)==null?void 0:c.last_page)||1,total:((S=(j=e.data)==null?void 0:j.pagination)==null?void 0:S.total)||5}]:[];return{_mealList:s,mealListPaginationb:i,handlePageChange:x,refetch:h}}function q({title:u,content:o,action:m,open:f,meal:e,onClose:n,item_id:h,...x}){const{t:s}=B(),i=JSON.parse(localStorage.getItem("settings")),{refetch:d}=Y(),p=window.localStorage.getItem("user_data"),r=$(p);I(),M();const{mutate:g,error:_,isError:y,isLoading:c}=N({mutationFn:()=>D.post(`${E}${e?"dashboard/restaurant/food/delete":""}`,{food_id:h},{headers:{"Content-Type":"multipart/form-data","Accept-Language":v.language,Authorization:`Bearer ${r==null?void 0:r.token}`}}),onSuccess:()=>{O(s("meal-form.success.delete")),n(),d()},onError:()=>{P(s("error"))}});return t.jsxs(F,{fullWidth:!0,maxWidth:"xs",open:f,onClose:n,...x,children:[t.jsx(H,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:t.jsx(Q,{sx:{pb:2,fontSize:"30px !important"},children:u})}),o&&t.jsxs(R,{sx:{typography:"body2",overflow:"hidden",fontSize:"17px"},children:[" ",o," "]}),t.jsxs(W,{children:[t.jsx(k,{type:"submit",variant:"contained",color:"error",disabled:!!c,onClick:g,children:c?t.jsx(J,{color:(i==null?void 0:i.themeMode)==="dark"?"#161C24":"#ffffff",size:23}):s("delete")}),t.jsx(k,{variant:"outlined",color:"inherit",onClick:n,children:s("cancel")})]})]})}q.propTypes={action:l.node,content:l.node,onClose:l.func,open:l.bool,title:l.string};export{q as C,Y as g};
