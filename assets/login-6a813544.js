import{aN as L,aO as F,r as P,aR as E,a4 as T,aC as R,aD as d,aE as A,aX as I,j as e,aF as k,J as l,aH as q,S as n,T as c,L as m,R as C,p as H,aQ as u,a1 as B,Q as J,I as M,aG as N,W as G}from"./index-3843fe70.js";function O(){const{login:r}=L(),h=F(),[o,x]=P.useState(""),p=E().get("returnTo"),a=T(),g=R().shape({email:d().required("Email is required").email("Email must be a valid email address"),password:d().required("Password is required")}),j={email:"demo@minimals.cc",password:"demo1234"},t=A({resolver:q(g),defaultValues:j}),{reset:w,handleSubmit:y,formState:{isSubmitting:b}}=t,f=y(async i=>{try{await(r==null?void 0:r(i.email,i.password)),h.push(p||I)}catch(s){console.error(s),w(),x(typeof s=="string"?s:s.message)}}),v=e.jsxs(n,{spacing:2,sx:{mb:5},children:[e.jsx(c,{variant:"h4",children:"Sign in to Minimal"}),e.jsxs(n,{direction:"row",spacing:.5,children:[e.jsx(c,{variant:"body2",children:"New user?"}),e.jsx(m,{component:C,href:H.auth.jwt.register,variant:"subtitle2",children:"Create an account"})]})]}),S=e.jsxs(n,{spacing:2.5,children:[!!o&&e.jsx(l,{severity:"error",children:o}),e.jsx(u,{name:"email",label:"Email address"}),e.jsx(u,{name:"password",label:"Password",type:a.value?"text":"password",InputProps:{endAdornment:e.jsx(B,{position:"end",children:e.jsx(J,{onClick:a.onToggle,edge:"end",children:e.jsx(M,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(m,{variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(N,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:b,children:"Login"})]});return e.jsxs(k,{methods:t,onSubmit:f,children:[v,e.jsxs(l,{severity:"info",sx:{mb:3},children:["Use email : ",e.jsx("strong",{children:"demo@minimals.cc"})," / password :",e.jsx("strong",{children:" demo1234"})]}),S]})}function W(){return e.jsxs(e.Fragment,{children:[e.jsx(G,{children:e.jsx("title",{children:" Jwt : Login"})}),e.jsx(O,{})]})}export{W as default};
