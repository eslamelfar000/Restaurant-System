import{c8 as F,aA as O,aB as A,aC as N,r as y,j as e,aD as D,h as C,ey as re,T as B,dP as ae,B as T,aM as v,aK as w,S as j,dx as te,aE as U,c3 as G,w as z,I as l,E as M,N as k,c4 as W,Q as S,P as b,aG as ie,c as f,O as ce,$ as I,cp as le,a2 as P,ai as de,aj as xe,ak as pe,D as $,ad as H,ae as ue,av as me,L as he,ay as je,G as be,n as ye,aZ as ge,l as we,eE as fe,C as Ce,p as ve,i as Se,k as Pe,eF as Ae,eG as Te,eH as ke,eI as Ie,es as Fe,W as Ne}from"./index-8dd84c3c.js";import{C as De}from"./custom-breadcrumbs-4f91a7ea.js";import{G as c}from"./Grid2-c538f224.js";import{L as E}from"./LoadingButton-4fef03e5.js";import{b as Be,A as Ee,a as Le}from"./address-list-dialog-a0c8702a.js";import{C as L}from"./CardHeader-ecd11e27.js";import{P as qe}from"./payment-new-card-dialog-07e5e755.js";import"./CircularProgress-72f3d43d.js";import"./DialogTitle-79128aff.js";import"./dialogTitleClasses-b98083ca.js";import"./DialogContent-6de0ef8e.js";import"./DialogActions-0f75f5e3.js";function _e(){const{enqueueSnackbar:n}=F(),{user:s}=te(),r=O().shape({name:A().required("Name is required"),phoneNumber:A().required("Phone number is required")}),a={name:(s==null?void 0:s.displayName)||"",phoneNumber:(s==null?void 0:s.phoneNumber)||""},p=N({resolver:U(r),defaultValues:a}),{setValue:m,handleSubmit:h,formState:{isSubmitting:t}}=p,u=h(async d=>{try{await new Promise(x=>setTimeout(x,500)),n("Update success!"),console.info("DATA",d)}catch(x){console.error(x)}}),o=y.useCallback(d=>{const x=d[0],g=Object.assign(x,{preview:URL.createObjectURL(x)});x&&m("photoURL",g,{shouldValidate:!0})},[m]);return e.jsx(D,{methods:p,onSubmit:u,children:e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{xs:12,md:4,children:e.jsx(C,{sx:{py:10,px:3,textAlign:"center"},children:e.jsx(re,{name:"photoURL",maxSize:3145728,onDrop:o,helperText:e.jsxs(B,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",ae(3145728)]})})})}),e.jsx(c,{xs:12,md:8,children:e.jsxs(C,{sx:{p:3},children:[e.jsxs(T,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(v,{name:"name",label:w("name")}),e.jsx(v,{name:"phoneNumber",label:w("phone")})]}),e.jsx(j,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:e.jsx(E,{type:"submit",variant:"contained",loading:t,children:w("save-changes")})})]})})]})})}function _({card:n,sx:s,...r}){const a=G();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{spacing:1,component:z,variant:"outlined",sx:{p:2.5,width:1,position:"relative",...s},...r,children:[e.jsxs(j,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(l,{icon:n.cardType==="visa"&&"logos:visa"||"logos:mastercard",width:36}),n.primary&&e.jsx(M,{color:"info",children:"Default"})]}),e.jsx(B,{variant:"subtitle2",children:n.cardNumber}),e.jsx(k,{onClick:a.onOpen,sx:{top:8,right:8,position:"absolute"},children:e.jsx(l,{icon:"eva:more-vertical-fill"})})]}),e.jsxs(W,{open:a.open,onClose:a.onClose,children:[e.jsxs(S,{onClick:a.onClose,children:[e.jsx(l,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(S,{onClick:a.onClose,children:[e.jsx(l,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(S,{onClick:a.onClose,sx:{color:"error.main"},children:[e.jsx(l,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}_.propTypes={card:b.object,sx:b.object};function V({open:n,list:s,onClose:r,selected:a,onSelect:p}){const[m,h]=y.useState(""),u=!Re({inputData:s,query:m}).length&&!!m,o=y.useCallback(g=>{h(g.target.value)},[]),d=y.useCallback(g=>{p(g),h(""),r()},[r,p]),x=e.jsx(j,{spacing:2.5,sx:{p:3},children:s.map(g=>e.jsx(_,{card:g,onClick:()=>d(g),sx:{cursor:"pointer",...a(g.id)&&{boxShadow:q=>`0 0 0 2px ${q.palette.text.primary}`}}},g.id))});return e.jsxs(ie,{fullWidth:!0,maxWidth:"xs",open:n,onClose:r,children:[e.jsxs(j,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[e.jsx(B,{variant:"h6",children:" Cards "}),e.jsx(f,{size:"small",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})]}),e.jsx(j,{sx:{px:3},children:e.jsx(ce,{value:m,onChange:o,placeholder:"Search...",InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(l,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),u?e.jsx(le,{query:m,sx:{px:3,pt:5,pb:10}}):x]})}V.propTypes={list:b.array,onClose:b.func,onSelect:b.func,open:b.bool,selected:b.func};function Re({inputData:n,query:s}){return s?n.filter(r=>r.cardNumber.toLowerCase().indexOf(s.toLowerCase())!==-1):n}function K({cardList:n,addressBook:s,plans:r}){const a=P(),p=P(),m=s.filter(i=>i.primary)[0],h=n.filter(i=>i.primary)[0],[t,u]=y.useState(""),[o,d]=y.useState(m),[x,g]=y.useState(h),q=y.useCallback(i=>{r.filter(oe=>oe.primary)[0].subscription!==i&&u(i)},[r]),ee=y.useCallback(i=>{d(i)},[]),se=y.useCallback(i=>{g(i)},[]),ne=r.map(i=>e.jsx(c,{xs:12,md:4,children:e.jsxs(j,{component:z,variant:"outlined",onClick:()=>q(i.subscription),sx:{p:2.5,position:"relative",cursor:"pointer",...i.primary&&{opacity:.48,cursor:"default"},...i.subscription===t&&{boxShadow:R=>`0 0 0 2px ${R.palette.text.primary}`}},children:[i.primary&&e.jsx(M,{color:"info",startIcon:e.jsx(l,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),e.jsxs(T,{sx:{width:48,height:48},children:[i.subscription==="basic"&&e.jsx(de,{}),i.subscription==="starter"&&e.jsx(xe,{}),i.subscription==="premium"&&e.jsx(pe,{})]}),e.jsx(T,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:i.subscription}),e.jsxs(j,{direction:"row",alignItems:"center",sx:{typography:"h4"},children:[i.price||"Free",!!i.price&&e.jsx(T,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},i.subscription));return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx(L,{title:"Plan"}),e.jsx(c,{container:!0,spacing:2,sx:{p:3},children:ne}),e.jsxs(j,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[e.jsxs(c,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(c,{xs:12,md:4,sx:{color:"text.secondary"},children:"Plan"}),e.jsx(c,{xs:12,md:8,sx:{typography:"subtitle2",textTransform:"capitalize"},children:t||"-"})]}),e.jsxs(c,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(c,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing name"}),e.jsx(c,{xs:12,md:8,children:e.jsx(f,{onClick:a.onTrue,endIcon:e.jsx(l,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:o==null?void 0:o.name})})]}),e.jsxs(c,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(c,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing address"}),e.jsx(c,{xs:12,md:8,sx:{color:"text.secondary"},children:o==null?void 0:o.fullAddress})]}),e.jsxs(c,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(c,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing phone number"}),e.jsx(c,{xs:12,md:8,sx:{color:"text.secondary"},children:o==null?void 0:o.phoneNumber})]}),e.jsxs(c,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(c,{xs:12,md:4,sx:{color:"text.secondary"},children:"Payment method"}),e.jsx(c,{xs:12,md:8,children:e.jsx(f,{onClick:p.onTrue,endIcon:e.jsx(l,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:x==null?void 0:x.cardNumber})})]})]}),e.jsx($,{sx:{borderStyle:"dashed"}}),e.jsxs(j,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{p:3},children:[e.jsx(f,{variant:"outlined",children:"Cancel Plan"}),e.jsx(f,{variant:"contained",children:"Upgrade Plan"})]})]}),e.jsx(V,{list:n,open:p.value,onClose:p.onFalse,selected:i=>(x==null?void 0:x.id)===i,onSelect:se}),e.jsx(Be,{list:s,open:a.value,onClose:a.onFalse,selected:i=>(o==null?void 0:o.id)===i,onSelect:ee,action:e.jsx(f,{size:"small",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}K.propTypes={addressBook:b.array,cardList:b.array,plans:b.array};function Q({cards:n}){const s=P();return e.jsxs(e.Fragment,{children:[e.jsxs(C,{sx:{my:3},children:[e.jsx(L,{title:"Payment Method",action:e.jsx(f,{size:"small",color:"primary",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),onClick:s.onTrue,children:"New Card"})}),e.jsx(T,{rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{p:3},children:n.map(r=>e.jsx(_,{card:r},r.id))})]}),e.jsx(qe,{open:s.value,onClose:s.onFalse})]})}Q.propTypes={cards:b.array};function Y({invoices:n}){const s=P();return e.jsxs(C,{children:[e.jsx(L,{title:"Invoice History"}),e.jsxs(j,{spacing:1.5,sx:{px:3,pt:3},children:[(s.value?n:n.slice(0,8)).map(r=>e.jsxs(j,{direction:"row",alignItems:"center",children:[e.jsx(H,{primary:r.invoiceNumber,secondary:ue(r.createdAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),e.jsx(B,{variant:"body2",sx:{textAlign:"right",mr:5},children:me(r.price)}),e.jsx(he,{color:"inherit",underline:"always",variant:"body2",href:"#",children:"PDF"})]},r.id)),e.jsx($,{sx:{borderStyle:"dashed"}})]}),e.jsx(j,{alignItems:"flex-start",sx:{p:2},children:e.jsx(f,{size:"small",color:"inherit",startIcon:e.jsx(l,{icon:s.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),onClick:s.onToggle,children:s.value?"Show Less":"Show More"})})]})}Y.propTypes={invoices:b.array};function Z({addressBook:n}){const[s,r]=y.useState(""),a=G(),p=P(),m=y.useCallback(u=>{console.info("ADDRESS",u)},[]),h=y.useCallback((u,o)=>{a.onOpen(u),r(o)},[a]),t=y.useCallback(()=>{a.onClose(),r("")},[a]);return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx(L,{title:"Address Book",action:e.jsx(f,{size:"small",color:"primary",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),onClick:p.onTrue,children:"Address"})}),e.jsx(j,{spacing:2.5,sx:{p:3},children:n.map(u=>e.jsx(Ee,{variant:"outlined",address:u,action:e.jsx(k,{onClick:o=>{h(o,`${u.id}`)},sx:{position:"absolute",top:8,right:8},children:e.jsx(l,{icon:"eva:more-vertical-fill"})}),sx:{p:2.5,borderRadius:1}},u.id))})]}),e.jsxs(W,{open:a.open,onClose:t,children:[e.jsxs(S,{onClick:()=>{t(),console.info("SET AS PRIMARY",s)},children:[e.jsx(l,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(S,{onClick:()=>{t(),console.info("EDIT",s)},children:[e.jsx(l,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(S,{onClick:()=>{t(),console.info("DELETE",s)},sx:{color:"error.main"},children:[e.jsx(l,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(Le,{open:p.value,onClose:p.onFalse,onCreate:m})]})}Z.propTypes={addressBook:b.array};function J({cards:n,plans:s,invoices:r,addressBook:a}){return e.jsxs(c,{container:!0,spacing:5,disableEqualOverflow:!0,children:[e.jsxs(c,{xs:12,md:8,children:[e.jsx(K,{plans:s,cardList:n,addressBook:a}),e.jsx(Q,{cards:n}),e.jsx(Z,{addressBook:a})]}),e.jsx(c,{xs:12,md:4,children:e.jsx(Y,{invoices:r})})]})}J.propTypes={addressBook:b.array,cards:b.array,invoices:b.array,plans:b.array};function X({socialLinks:n}){const{enqueueSnackbar:s}=F(),r={facebook:n.facebook,instagram:n.instagram,linkedin:n.linkedin,twitter:n.twitter},a=N({defaultValues:r}),{handleSubmit:p,formState:{isSubmitting:m}}=a,h=p(async t=>{try{await new Promise(u=>setTimeout(u,500)),s("Update success!"),console.info("DATA",t)}catch(u){console.error(u)}});return e.jsx(D,{methods:a,onSubmit:h,children:e.jsxs(j,{component:C,spacing:3,sx:{p:3},children:[Object.keys(n).map(t=>e.jsx(v,{name:t,InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(l,{width:24,icon:t==="facebook"&&"eva:facebook-fill"||t==="instagram"&&"ant-design:instagram-filled"||t==="linkedin"&&"eva:linkedin-fill"||t==="twitter"&&"eva:twitter-fill"||"",color:t==="facebook"&&"#1877F2"||t==="instagram"&&"#DF3E30"||t==="linkedin"&&"#006097"||t==="twitter"&&"#1C9CEA"||""})})}},t)),e.jsx(E,{type:"submit",variant:"contained",loading:m,sx:{ml:"auto"},children:"Save Changes"})]})})}X.propTypes={socialLinks:b.object};const Oe=[{subheader:"Activity",caption:"Donec mi odio, faucibus at, scelerisque quis",items:[{id:"activity_comments",label:"Email me when someone comments onmy article"},{id:"activity_answers",label:"Email me when someone answers on my form"},{id:"activityFollows",label:"Email me hen someone follows me"}]},{subheader:"Application",caption:"Donec mi odio, faucibus at, scelerisque quis",items:[{id:"application_news",label:"News and announcements"},{id:"application_product",label:"Weekly product updates"},{id:"application_blog",label:"Weekly blog digest"}]}];function Ue(){const{enqueueSnackbar:n}=F(),s=N({defaultValues:{selected:["activity_comments","application_product"]}}),{watch:r,control:a,handleSubmit:p,formState:{isSubmitting:m}}=s,h=r(),t=p(async o=>{try{await new Promise(d=>setTimeout(d,500)),n("Update success!"),console.info("DATA",o)}catch(d){console.error(d)}}),u=(o,d)=>o.includes(d)?o.filter(x=>x!==d):[...o,d];return e.jsx(D,{methods:s,onSubmit:t,children:e.jsxs(j,{component:C,spacing:3,sx:{p:3},children:[Oe.map(o=>e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{xs:12,md:4,children:e.jsx(H,{primary:o.subheader,secondary:o.caption,primaryTypographyProps:{typography:"h6",mb:.5},secondaryTypographyProps:{component:"span"}})}),e.jsx(c,{xs:12,md:8,children:e.jsx(j,{spacing:1,sx:{p:3,borderRadius:2,bgcolor:"background.neutral"},children:e.jsx(je,{name:"selected",control:a,render:({field:d})=>e.jsx(e.Fragment,{children:o.items.map(x=>e.jsx(be,{label:x.label,labelPlacement:"start",control:e.jsx(ye,{checked:d.value.includes(x.id),onChange:()=>d.onChange(u(h.selected,x.id))}),sx:{m:0,width:1,justifyContent:"space-between"}},x.id))})})})})]},o.subheader)),e.jsx(E,{type:"submit",variant:"contained",loading:m,sx:{ml:"auto"},children:"Save Changes"})]})})}function Ge(){const{enqueueSnackbar:n}=F(),s=P(),r=O().shape({oldPassword:A().required("Old Password is required"),newPassword:A().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(o,{parent:d})=>o!==d.oldPassword),confirmNewPassword:A().oneOf([ge("newPassword")],"Passwords must match")}),a={oldPassword:"",newPassword:"",confirmNewPassword:""},p=N({resolver:U(r),defaultValues:a}),{reset:m,handleSubmit:h,formState:{isSubmitting:t}}=p,u=h(async o=>{try{await new Promise(d=>setTimeout(d,500)),m(),n("Update success!"),console.info("DATA",o)}catch(d){console.error(d)}});return e.jsx(D,{methods:p,onSubmit:u,children:e.jsxs(j,{component:C,spacing:3,sx:{p:3},children:[e.jsx(v,{name:"oldPassword",type:s.value?"text":"password",label:"Old Password",InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(k,{onClick:s.onToggle,edge:"end",children:e.jsx(l,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(v,{name:"newPassword",label:"New Password",type:s.value?"text":"password",InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(k,{onClick:s.onToggle,edge:"end",children:e.jsx(l,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:e.jsxs(j,{component:"span",direction:"row",alignItems:"center",children:[e.jsx(l,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),e.jsx(v,{name:"confirmNewPassword",type:s.value?"text":"password",label:"Confirm New Password",InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(k,{onClick:s.onToggle,edge:"end",children:e.jsx(l,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(E,{type:"submit",variant:"contained",loading:t,sx:{ml:"auto"},children:"Save Changes"})]})})}const ze=[{value:"general",label:w("general"),icon:e.jsx(l,{icon:"solar:user-id-bold",width:24})},{value:"social",label:w("social"),icon:e.jsx(l,{icon:"solar:share-bold",width:24})},{value:"security",label:w("security"),icon:e.jsx(l,{icon:"ic:round-vpn-key",width:24})}];function Me(){var m;const n=we(),[s,r]=y.useState("general"),a=window.localStorage.getItem("user_data");(m=fe(a))==null||m.user;const p=y.useCallback((h,t)=>{r(t)},[]);return e.jsxs(Ce,{maxWidth:n.themeStretch?!1:"lg",children:[e.jsx(De,{heading:w("account"),links:[{name:w("dashboard"),href:ve.dashboard.root},{name:w("user")},{name:w("account")}],sx:{mb:{xs:3,md:5}}}),e.jsx(Se,{value:s,onChange:p,sx:{mb:{xs:3,md:5}},children:ze.map(h=>e.jsx(Pe,{label:h.label,icon:h.icon,value:h.value},h.value))}),s==="general"&&e.jsx(_e,{}),s==="billing"&&e.jsx(J,{plans:Ae,cards:Te,invoices:ke,addressBook:Ie}),s==="notifications"&&e.jsx(Ue,{}),s==="social"&&e.jsx(X,{socialLinks:Fe.socialLinks}),s==="security"&&e.jsx(Ge,{})]})}function ns(){return e.jsxs(e.Fragment,{children:[e.jsx(Ne,{children:e.jsx("title",{children:" Dashboard: Account Settings"})}),e.jsx(Me,{})]})}export{ns as default};
