import{aT as A,l as B,r as l,a2 as E,ap as v,p,j as t,C as I,c as C,R as O,I as T,h as N,d$ as H,cn as U,N as _,aw as V,W}from"./index-7ea3d364.js";import{u as z,h as q,i as G,j as K}from"./product-shop-details-view-f42938eb.js";import"./_baseToString-0d1adebe.js";import"./index-2c54f451.js";import"./empty-content-873460d0.js";import{e as $,g as J}from"./utils-d01cbedb.js";import{u as M}from"./use-table-0841de54.js";import{c as Q,a as X,d as Y,b as Z,e as ee}from"./table-pagination-custom-e318c9d1.js";import{T as te}from"./table-skeleton-f5c9d944.js";import{C as oe}from"./confirm-dialog-0780962b.js";import{C as se}from"./custom-breadcrumbs-e932d3ce.js";import{T as re,a as ae,b as ne}from"./TableContainer-db009897.js";import"./Grid2-ff6cd044.js";import"./CardHeader-67b6dce2.js";import"./LoadingButton-98b7bd41.js";import"./CircularProgress-4dfa33e2.js";import"./color-picker-e51dc666.js";import"./Fab-53e39fc0.js";import"./Pagination-6d255a1e.js";import"./FirstPage-7b52acc4.js";import"./Rating-2803ac86.js";import"./TablePagination-b871666b.js";import"./sumBy-db5b53ff.js";import"./_baseIteratee-c8d46604.js";import"./_baseSum-340d39f5.js";import"./DialogTitle-49bf0cd1.js";import"./dialogTitleClasses-04fd67b2.js";import"./DialogContent-419ba6b2.js";import"./DialogActions-70dd81da.js";import"./Skeleton-14119312.js";import"./incrementer-button-2e9c32ee.js";import"./lightbox-22f71e04.js";import"./use-carousel-d7a0401f.js";import"./markdown-e43c85e2.js";const le=[{id:"name",label:"Product"},{id:"createdAt",label:"Create at",width:160},{id:"inventoryType",label:"Stock",width:160},{id:"price",label:"Price",width:140},{id:"publish",label:"Publish",width:110},{id:"",width:88}],ie=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],x={name:"",publish:[],stock:[]};function de(){const r=A(),e=M(),P=B(),[a,c]=l.useState([]),[i,m]=l.useState(x),{products:s,productsLoading:h,productsEmpty:u}=z(),g=E();l.useEffect(()=>{s.length&&c(s)},[s]);const d=ce({inputData:a,comparator:J(e.order,e.orderBy),filters:i}),b=d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),f=e.dense?60:80,R=!v(x,i),S=!d.length&&R||u,j=l.useCallback((o,n)=>{e.onResetPage(),m(w=>({...w,[o]:n}))},[e]),F=l.useCallback(o=>{const n=a.filter(w=>w.id!==o);c(n),e.onUpdatePageDeleteRow(b.length)},[b.length,e,a]),y=l.useCallback(()=>{const o=a.filter(n=>!e.selected.includes(n.id));c(o),e.onUpdatePageDeleteRows({totalRows:a.length,totalRowsInPage:b.length,totalRowsFiltered:d.length})},[d.length,b.length,e,a]),k=l.useCallback(o=>{r.push(p.dashboard.product.edit(o))},[r]),D=l.useCallback(o=>{r.push(p.dashboard.product.details(o))},[r]),L=l.useCallback(()=>{m(x)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(I,{maxWidth:P.themeStretch?!1:"lg",children:[t.jsx(se,{heading:"List",links:[{name:"Dashboard",href:p.dashboard.root},{name:"Product",href:p.dashboard.product.root},{name:"List"}],action:t.jsx(C,{component:O,href:p.dashboard.product.new,variant:"contained",startIcon:t.jsx(T,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),t.jsxs(N,{children:[t.jsx(q,{filters:i,onFilters:j,stockOptions:H,publishOptions:ie}),R&&t.jsx(G,{filters:i,onFilters:j,onResetFilters:L,results:d.length,sx:{p:2.5,pt:0}}),t.jsxs(re,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(Q,{dense:e.dense,numSelected:e.selected.length,rowCount:a.length,onSelectAllRows:o=>e.onSelectAllRows(o,a.map(n=>n.id)),action:t.jsx(U,{title:"Delete",children:t.jsx(_,{color:"primary",onClick:g.onTrue,children:t.jsx(T,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(V,{children:t.jsxs(ae,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(X,{order:e.order,orderBy:e.orderBy,headLabel:le,rowCount:a.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:o=>e.onSelectAllRows(o,a.map(n=>n.id))}),t.jsxs(ne,{children:[h?[...Array(e.rowsPerPage)].map((o,n)=>t.jsx(te,{sx:{height:f}},n)):t.jsx(t.Fragment,{children:d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(o=>t.jsx(K,{row:o,selected:e.selected.includes(o.id),onSelectRow:()=>e.onSelectRow(o.id),onDeleteRow:()=>F(o.id),onEditRow:()=>k(o.id),onViewRow:()=>D(o.id)},o.id))}),t.jsx(Y,{height:f,emptyRows:$(e.page,e.rowsPerPage,a.length)}),t.jsx(Z,{notFound:S})]})]})})]}),t.jsx(ee,{count:d.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),t.jsx(oe,{open:g.value,onClose:g.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(C,{variant:"contained",color:"error",onClick:()=>{y(),g.onFalse()},children:"Delete"})})]})}function ce({inputData:r,comparator:e,filters:P}){const{name:a,stock:c,publish:i}=P,m=r.map((s,h)=>[s,h]);return m.sort((s,h)=>{const u=e(s[0],h[0]);return u!==0?u:s[1]-h[1]}),r=m.map(s=>s[0]),a&&(r=r.filter(s=>s.name.toLowerCase().indexOf(a.toLowerCase())!==-1)),c.length&&(r=r.filter(s=>c.includes(s.inventoryType))),i.length&&(r=r.filter(s=>i.includes(s.publish))),r}function Ge(){return t.jsxs(t.Fragment,{children:[t.jsx(W,{children:t.jsx("title",{children:" Dashboard: Product List"})}),t.jsx(de,{})]})}export{Ge as default};
