import{aT as A,l as B,r as l,a2 as E,ap as v,p,j as t,C as I,c as C,R as O,I as T,h as N,d$ as H,co as U,N as _,aw as V,W}from"./index-2e23bd70.js";import{u as z,h as q,i as G,j as K}from"./product-shop-details-view-fb36db92.js";import"./_baseToString-057a84b4.js";import"./index-e463e7f8.js";import"./empty-content-87b950ac.js";import{u as $,e as J,g as M}from"./use-table-f1495135.js";import{b as Q,a as X,c as Y,d as Z,e as ee}from"./table-pagination-custom-c537f3cc.js";import{T as te}from"./table-skeleton-82d81d5c.js";import{C as oe}from"./confirm-dialog-f0e3b46a.js";import{C as se}from"./custom-breadcrumbs-5a236e51.js";import{T as ae,a as re,b as ne}from"./TableContainer-430e0d21.js";import"./Grid2-9db201e2.js";import"./CardHeader-bec94c7d.js";import"./LoadingButton-e92f42e4.js";import"./CircularProgress-c29df590.js";import"./color-picker-6a3150f6.js";import"./Fab-522cd41b.js";import"./Pagination-6ce9d394.js";import"./FirstPage-04498ea5.js";import"./Rating-0ab3987a.js";import"./TablePagination-b89d18bd.js";import"./sumBy-e2e30536.js";import"./_baseIteratee-37215c36.js";import"./_baseSum-340d39f5.js";import"./DialogTitle-a7955715.js";import"./dialogTitleClasses-7dbb835a.js";import"./DialogContent-5cdd3a81.js";import"./DialogActions-a4520a0f.js";import"./Skeleton-a3b20c98.js";import"./incrementer-button-6cf634a0.js";import"./lightbox-451c9c65.js";import"./use-carousel-24086a50.js";import"./markdown-005ed069.js";const le=[{id:"name",label:"Product"},{id:"createdAt",label:"Create at",width:160},{id:"inventoryType",label:"Stock",width:160},{id:"price",label:"Price",width:140},{id:"publish",label:"Publish",width:110},{id:"",width:88}],ie=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],x={name:"",publish:[],stock:[]};function de(){const a=A(),e=$(),P=B(),[r,c]=l.useState([]),[i,m]=l.useState(x),{products:s,productsLoading:h,productsEmpty:u}=z(),g=E();l.useEffect(()=>{s.length&&c(s)},[s]);const d=ce({inputData:r,comparator:M(e.order,e.orderBy),filters:i}),b=d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),f=e.dense?60:80,R=!v(x,i),S=!d.length&&R||u,j=l.useCallback((o,n)=>{e.onResetPage(),m(w=>({...w,[o]:n}))},[e]),F=l.useCallback(o=>{const n=r.filter(w=>w.id!==o);c(n),e.onUpdatePageDeleteRow(b.length)},[b.length,e,r]),y=l.useCallback(()=>{const o=r.filter(n=>!e.selected.includes(n.id));c(o),e.onUpdatePageDeleteRows({totalRows:r.length,totalRowsInPage:b.length,totalRowsFiltered:d.length})},[d.length,b.length,e,r]),k=l.useCallback(o=>{a.push(p.dashboard.product.edit(o))},[a]),D=l.useCallback(o=>{a.push(p.dashboard.product.details(o))},[a]),L=l.useCallback(()=>{m(x)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(I,{maxWidth:P.themeStretch?!1:"lg",children:[t.jsx(se,{heading:"List",links:[{name:"Dashboard",href:p.dashboard.root},{name:"Product",href:p.dashboard.product.root},{name:"List"}],action:t.jsx(C,{component:O,href:p.dashboard.product.new,variant:"contained",startIcon:t.jsx(T,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),t.jsxs(N,{children:[t.jsx(q,{filters:i,onFilters:j,stockOptions:H,publishOptions:ie}),R&&t.jsx(G,{filters:i,onFilters:j,onResetFilters:L,results:d.length,sx:{p:2.5,pt:0}}),t.jsxs(ae,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(Q,{dense:e.dense,numSelected:e.selected.length,rowCount:r.length,onSelectAllRows:o=>e.onSelectAllRows(o,r.map(n=>n.id)),action:t.jsx(U,{title:"Delete",children:t.jsx(_,{color:"primary",onClick:g.onTrue,children:t.jsx(T,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(V,{children:t.jsxs(re,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(X,{order:e.order,orderBy:e.orderBy,headLabel:le,rowCount:r.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:o=>e.onSelectAllRows(o,r.map(n=>n.id))}),t.jsxs(ne,{children:[h?[...Array(e.rowsPerPage)].map((o,n)=>t.jsx(te,{sx:{height:f}},n)):t.jsx(t.Fragment,{children:d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(o=>t.jsx(K,{row:o,selected:e.selected.includes(o.id),onSelectRow:()=>e.onSelectRow(o.id),onDeleteRow:()=>F(o.id),onEditRow:()=>k(o.id),onViewRow:()=>D(o.id)},o.id))}),t.jsx(Y,{height:f,emptyRows:J(e.page,e.rowsPerPage,r.length)}),t.jsx(Z,{notFound:S})]})]})})]}),t.jsx(ee,{count:d.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),t.jsx(oe,{open:g.value,onClose:g.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(C,{variant:"contained",color:"error",onClick:()=>{y(),g.onFalse()},children:"Delete"})})]})}function ce({inputData:a,comparator:e,filters:P}){const{name:r,stock:c,publish:i}=P,m=a.map((s,h)=>[s,h]);return m.sort((s,h)=>{const u=e(s[0],h[0]);return u!==0?u:s[1]-h[1]}),a=m.map(s=>s[0]),r&&(a=a.filter(s=>s.name.toLowerCase().indexOf(r.toLowerCase())!==-1)),c.length&&(a=a.filter(s=>c.includes(s.inventoryType))),i.length&&(a=a.filter(s=>i.includes(s.publish))),a}function qe(){return t.jsxs(t.Fragment,{children:[t.jsx(W,{children:t.jsx("title",{children:" Dashboard: Product List"})}),t.jsx(de,{})]})}export{qe as default};
