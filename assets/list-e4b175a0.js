import{cG as B,eE as I,eC as U,l as _,aT as A,a2 as O,r as d,ap as N,p as P,j as t,C as D,c as T,R as H,I as W,h as z,i as q,e as G,k as M,E as V,eF as $,aw as J,W as K}from"./index-cbcf4d24.js";import{_ as f,N as Q}from"./_notes-51adb28d.js";import{C as X}from"./confirm-dialog-e0582b44.js";import{C as Y}from"./custom-breadcrumbs-e3539828.js";import{u as Z,g as ee,e as te}from"./use-table-7f771a8c.js";import{a as se,c as ae,d as oe,e as le}from"./table-pagination-custom-30ef5c4f.js";import{e as ne,f as re}from"./profile-followers-0aaa7cfc.js";import{T as ie,a as de,b as ce}from"./TableContainer-388c23d7.js";import"./Grid2-1fe1ad1f.js";import"./LoadingButton-0554778e.js";import"./CircularProgress-d3d9844e.js";import"./TablePagination-64b8a577.js";import"./FirstPage-f62926f1.js";import"./DialogTitle-1f151b3c.js";import"./dialogTitleClasses-66fe0db0.js";import"./DialogContent-ce9ac23a.js";import"./DialogActions-03a18810.js";import"./empty-content-ca871e56.js";import"./Alert-d652e9dd.js";import"./Rating-4b110285.js";import"./CardHeader-0b919cc9.js";import"./AvatarGroup-dfc3da64.js";import"./Fab-d7059c46.js";import"./lightbox-b6ed4b3f.js";function he(){const{t:a,currentLang:c}=B(),w=[{value:"all",label:a("all")},...c.value==="ar"?I:U],g=[{id:"title",label:a("title"),width:250},{id:"desc",label:a("desc"),width:150},{id:"status",label:a("status"),width:100},{id:"",width:88}],h={title:"",role:[],status:"all"},e=Z(),m=_(),o=A(),r=O(),[l,R]=d.useState(f),[u,j]=d.useState(h),i=ue({inputData:l,comparator:ee(e.order,e.orderBy),filters:u}),p=i.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),v=e.dense?52:72,C=!N(h,u),S=!i.length&&C||!i.length,x=d.useCallback((s,n)=>{e.onResetPage(),j(b=>({...b,[s]:n}))},[e]),F=d.useCallback(s=>{const n=l.filter(b=>b.id!==s);R(n),e.onUpdatePageDeleteRow(p.length)},[p.length,e,l]),y=d.useCallback(()=>{const s=l.filter(n=>!e.selected.includes(n.id));R(s),e.onUpdatePageDeleteRows({totalRows:l.length,totalRowsInPage:p.length,totalRowsFiltered:i.length})},[i.length,p.length,e,l]),E=d.useCallback(s=>{o.push(P.dashboard.notifications.edit(s))},[o]),k=d.useCallback((s,n)=>{x("status",n)},[x]),L=d.useCallback(()=>{j(h)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(D,{maxWidth:m.themeStretch?!1:"lg",children:[t.jsx(Y,{heading:a("notifications"),links:[{name:a("dashboard"),href:P.dashboard.root},{name:a("notifications")}],action:t.jsx(T,{component:H,href:P.dashboard.notifications.new,variant:"contained",startIcon:t.jsx(W,{icon:"mingcute:add-line"}),children:a("new-note")}),sx:{mb:{xs:3,md:5}}}),t.jsxs(z,{children:[t.jsx(q,{value:u.status,onChange:k,sx:{px:2.5,boxShadow:s=>`inset 0 -2px 0 0 ${G(s.palette.grey[500],.08)}`},children:w.map(s=>t.jsx(M,{iconPosition:(c==null?void 0:c.value)==="ar"?"start":"end",value:s.value,label:s.label,icon:t.jsxs(V,{variant:(s.value==="all"||s.value===u.status)&&"filled"||"soft",color:s.value==="active"&&"success"||s.value==="banned"&&"error"||"default",children:[s.value==="all"&&f.length,s.value==="active"&&f.filter(n=>n.status==="active").length,s.value==="banned"&&f.filter(n=>n.status==="banned").length]})},s.value))}),t.jsx(ne,{filters:u,onFilters:x,roleOptions:$}),C&&t.jsx(re,{filters:u,onFilters:x,onResetFilters:L,results:i.length,sx:{p:2.5,pt:0}}),t.jsx(ie,{sx:{position:"relative",overflow:"unset"},children:t.jsx(J,{children:t.jsxs(de,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(se,{order:e.order,orderBy:e.orderBy,headLabel:g,rowCount:l.length,numSelected:e.selected.length,onSort:e.onSort}),t.jsxs(ce,{children:[i.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(s=>t.jsx(Q,{row:s,onSelectRow:()=>e.onSelectRow(s.id),onDeleteRow:()=>F(s.id),onEditRow:()=>E(s.id)},s.id)),t.jsx(ae,{height:v,emptyRows:te(e.page,e.rowsPerPage,l.length)}),t.jsx(oe,{notFound:S})]})]})})}),t.jsx(le,{count:i.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage})]})]}),t.jsx(X,{open:r.value,onClose:r.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(T,{variant:"contained",color:"error",onClick:()=>{y(),r.onFalse()},children:"Delete"})})]})}function ue({inputData:a,comparator:c,filters:w}){const{title:g,status:h,role:e}=w,m=a.map((o,r)=>[o,r]);return m.sort((o,r)=>{const l=c(o[0],r[0]);return l!==0?l:o[1]-r[1]}),a=m.map(o=>o[0]),g&&(a=a.filter(o=>o.title.toLowerCase().indexOf(g.toLowerCase())!==-1)),h!=="all"&&(a=a.filter(o=>o.status===h)),e.length&&(a=a.filter(o=>e.includes(o.role))),a}function Oe(){return t.jsxs(t.Fragment,{children:[t.jsx(K,{children:t.jsx("title",{children:" Dashboard: Meal List"})}),t.jsx(he,{})]})}export{Oe as default};
