import{aT as A,l as B,r as l,a2 as E,ap as v,p,j as t,C as I,c as C,R as O,I as T,h as N,d_ as _,cn as H,N as U,aw as V,W}from"./index-186823c6.js";import{u as z,h as q,i as G,j as K}from"./product-shop-details-view-e7cebda8.js";import"./_baseToString-923195c6.js";import"./index-7b5bf23d.js";import"./empty-content-f2d6acd7.js";import{u as J,e as M,g as Q}from"./use-table-55bffd3b.js";import{b as X,a as Y,c as Z,d as $,e as ee}from"./table-pagination-custom-8894986b.js";import{T as te}from"./table-skeleton-e1db75d0.js";import{C as oe}from"./confirm-dialog-9f045afc.js";import{C as se}from"./custom-breadcrumbs-cb6ff524.js";import{T as ae,a as re,b as ne}from"./TableContainer-4aa7ae79.js";import"./Grid2-7caff2c6.js";import"./CardHeader-b23c59ca.js";import"./LoadingButton-4df01082.js";import"./CircularProgress-5748b253.js";import"./color-picker-535d40c1.js";import"./Fab-4448666a.js";import"./Pagination-538d74af.js";import"./FirstPage-c0e4972f.js";import"./Rating-25a4315d.js";import"./TablePagination-86f68a57.js";import"./sumBy-603cc3aa.js";import"./_baseIteratee-e67915fd.js";import"./_baseSum-340d39f5.js";import"./DialogTitle-6701e5d8.js";import"./dialogTitleClasses-6129fb3a.js";import"./DialogContent-1dbacd97.js";import"./DialogActions-ac373084.js";import"./Skeleton-f0e57ec8.js";import"./incrementer-button-93992d5c.js";import"./lightbox-609c53e7.js";import"./use-carousel-6c2f2f7f.js";import"./markdown-f73d05a2.js";const le=[{id:"name",label:"Product"},{id:"createdAt",label:"Create at",width:160},{id:"inventoryType",label:"Stock",width:160},{id:"price",label:"Price",width:140},{id:"publish",label:"Publish",width:110},{id:"",width:88}],ie=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],x={name:"",publish:[],stock:[]};function de(){const a=A(),e=J(),P=B(),[r,c]=l.useState([]),[i,m]=l.useState(x),{products:s,productsLoading:h,productsEmpty:u}=z(),g=E();l.useEffect(()=>{s.length&&c(s)},[s]);const d=ce({inputData:r,comparator:Q(e.order,e.orderBy),filters:i}),b=d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),f=e.dense?60:80,R=!v(x,i),S=!d.length&&R||u,j=l.useCallback((o,n)=>{e.onResetPage(),m(w=>({...w,[o]:n}))},[e]),F=l.useCallback(o=>{const n=r.filter(w=>w.id!==o);c(n),e.onUpdatePageDeleteRow(b.length)},[b.length,e,r]),y=l.useCallback(()=>{const o=r.filter(n=>!e.selected.includes(n.id));c(o),e.onUpdatePageDeleteRows({totalRows:r.length,totalRowsInPage:b.length,totalRowsFiltered:d.length})},[d.length,b.length,e,r]),k=l.useCallback(o=>{a.push(p.dashboard.product.edit(o))},[a]),D=l.useCallback(o=>{a.push(p.dashboard.product.details(o))},[a]),L=l.useCallback(()=>{m(x)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(I,{maxWidth:P.themeStretch?!1:"lg",children:[t.jsx(se,{heading:"List",links:[{name:"Dashboard",href:p.dashboard.root},{name:"Product",href:p.dashboard.product.root},{name:"List"}],action:t.jsx(C,{component:O,href:p.dashboard.product.new,variant:"contained",startIcon:t.jsx(T,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),t.jsxs(N,{children:[t.jsx(q,{filters:i,onFilters:j,stockOptions:_,publishOptions:ie}),R&&t.jsx(G,{filters:i,onFilters:j,onResetFilters:L,results:d.length,sx:{p:2.5,pt:0}}),t.jsxs(ae,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(X,{dense:e.dense,numSelected:e.selected.length,rowCount:r.length,onSelectAllRows:o=>e.onSelectAllRows(o,r.map(n=>n.id)),action:t.jsx(H,{title:"Delete",children:t.jsx(U,{color:"primary",onClick:g.onTrue,children:t.jsx(T,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(V,{children:t.jsxs(re,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(Y,{order:e.order,orderBy:e.orderBy,headLabel:le,rowCount:r.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:o=>e.onSelectAllRows(o,r.map(n=>n.id))}),t.jsxs(ne,{children:[h?[...Array(e.rowsPerPage)].map((o,n)=>t.jsx(te,{sx:{height:f}},n)):t.jsx(t.Fragment,{children:d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(o=>t.jsx(K,{row:o,selected:e.selected.includes(o.id),onSelectRow:()=>e.onSelectRow(o.id),onDeleteRow:()=>F(o.id),onEditRow:()=>k(o.id),onViewRow:()=>D(o.id)},o.id))}),t.jsx(Z,{height:f,emptyRows:M(e.page,e.rowsPerPage,r.length)}),t.jsx($,{notFound:S})]})]})})]}),t.jsx(ee,{count:d.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),t.jsx(oe,{open:g.value,onClose:g.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(C,{variant:"contained",color:"error",onClick:()=>{y(),g.onFalse()},children:"Delete"})})]})}function ce({inputData:a,comparator:e,filters:P}){const{name:r,stock:c,publish:i}=P,m=a.map((s,h)=>[s,h]);return m.sort((s,h)=>{const u=e(s[0],h[0]);return u!==0?u:s[1]-h[1]}),a=m.map(s=>s[0]),r&&(a=a.filter(s=>s.name.toLowerCase().indexOf(r.toLowerCase())!==-1)),c.length&&(a=a.filter(s=>c.includes(s.inventoryType))),i.length&&(a=a.filter(s=>i.includes(s.publish))),a}function qe(){return t.jsxs(t.Fragment,{children:[t.jsx(W,{children:t.jsx("title",{children:" Dashboard: Product List"})}),t.jsx(de,{})]})}export{qe as default};
