import{l as w,ao as U,a2 as A,r as i,ap as G,j as t,C as L,T as q,S as O,p as Q,aq as B,ar as W,as as v,at as V,au as Y,W as z}from"./index-b75d89b7.js";import{u as H,a as J,P as K,C as M,b as X,c as Z,d as $,e as D}from"./product-shop-details-view-f1a13f9c.js";import{o as x}from"./orderBy-e32a701b.js";import{u as ee}from"./use-debounce-1b2ab9c7.js";import{E as te}from"./empty-content-f57219ae.js";import"./index-297cdc1c.js";import"./table-pagination-custom-1b83dca1.js";import"./confirm-dialog-828f7f39.js";import"./custom-breadcrumbs-e6b049c1.js";import"./Grid2-48a6fac6.js";import"./CardHeader-ee8f33db.js";import"./LoadingButton-b9462ef2.js";import"./CircularProgress-a777ecab.js";import"./color-picker-02a8801a.js";import"./Fab-dc56f109.js";import"./Pagination-b39c9aa0.js";import"./FirstPage-4c8ad69b.js";import"./Rating-5653d21d.js";import"./TablePagination-25decbb4.js";import"./sumBy-e3d80c0f.js";import"./_baseIteratee-3a5640d5.js";import"./_baseToString-a4bd2219.js";import"./_baseSum-340d39f5.js";import"./DialogTitle-e7e9a75c.js";import"./dialogTitleClasses-943c24de.js";import"./DialogContent-1ddd6058.js";import"./DialogActions-f928fe7e.js";import"./Skeleton-7eb700e1.js";import"./incrementer-button-c72817f4.js";import"./lightbox-c39c69f9.js";import"./use-carousel-7c083c3a.js";import"./markdown-c8d83517.js";import"./_baseEach-5c2cabbc.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function se(){const e=w(),g=U(),r=A(),[c,m]=i.useState("featured"),[u,h]=i.useState(""),l=ee(u),[o,a]=i.useState(R),{products:s,productsLoading:d,productsEmpty:p}=H(),{searchResults:j,searchLoading:F}=J(l),C=i.useCallback((n,N)=>{a(k=>({...k,[n]:N}))},[]),S=re({inputData:s,filters:o,sortBy:c}),f=!G(R,o),y=!S.length&&f,T=i.useCallback(n=>{m(n)},[]),I=i.useCallback(n=>{h(n)},[]),P=i.useCallback(()=>{a(R)},[]),b=t.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[t.jsx(Z,{query:l,results:j,onSearch:I,loading:F,hrefItem:n=>Q.product.details(n)}),t.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[t.jsx($,{open:r.value,onOpen:r.onTrue,onClose:r.onFalse,filters:o,onFilters:C,canReset:f,onResetFilters:P,colorOptions:B,ratingOptions:W,genderOptions:v,categoryOptions:["all",...V]}),t.jsx(D,{sort:c,onSort:T,sortOptions:Y})]})]}),_=t.jsx(K,{filters:o,onFilters:C,canReset:f,onResetFilters:P,results:S.length}),E=t.jsx(te,{filled:!0,title:"No Data",sx:{py:10}});return t.jsxs(L,{maxWidth:e.themeStretch?!1:"lg",sx:{mb:15},children:[t.jsx(M,{totalItems:g.totalItems}),t.jsx(q,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),t.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[b,f&&_]}),(y||p)&&E,t.jsx(X,{products:S,loading:d})]})}function re({inputData:e,filters:g,sortBy:r}){const{gender:c,category:m,colors:u,priceRange:h,rating:l}=g,o=h[0],a=h[1];return r==="featured"&&(e=x(e,["totalSold"],["desc"])),r==="newest"&&(e=x(e,["createdAt"],["desc"])),r==="priceDesc"&&(e=x(e,["price"],["desc"])),r==="priceAsc"&&(e=x(e,["price"],["asc"])),c.length&&(e=e.filter(s=>c.includes(s.gender))),m!=="all"&&(e=e.filter(s=>s.category===m)),u.length&&(e=e.filter(s=>s.colors.some(d=>u.includes(d)))),(o!==0||a!==200)&&(e=e.filter(s=>s.price>=o&&s.price<=a)),l&&(e=e.filter(s=>{const d=p=>p==="up4Star"?4:p==="up3Star"?3:p==="up2Star"?2:1;return s.totalRatings>d(l)})),e}function Le(){return t.jsxs(t.Fragment,{children:[t.jsx(z,{children:t.jsx("title",{children:" Product: Shop"})}),t.jsx(se,{})]})}export{Le as default};
